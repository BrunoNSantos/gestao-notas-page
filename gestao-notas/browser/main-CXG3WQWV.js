var _C=Object.defineProperty,yC=Object.defineProperties;var vC=Object.getOwnPropertyDescriptors;var Hy=Object.getOwnPropertySymbols;var wC=Object.prototype.hasOwnProperty,EC=Object.prototype.propertyIsEnumerable;var Gy=(t,e,n)=>e in t?_C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})wC.call(e,n)&&Gy(t,n,e[n]);if(Hy)for(var n of Hy(e))EC.call(e,n)&&Gy(t,n,e[n]);return t},re=(t,e)=>yC(t,vC(e));var p=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var zy=null;var Cd=1,Sd=Symbol("SIGNAL");function J(t){let e=zy;return zy=t,e}var qy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function IC(t){if(!(Nd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cd)){if(!t.producerMustRecompute(t)&&!Ad(t)){t.dirty=!1,t.lastCleanEpoch=Cd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cd}}function Wy(t){return t&&(t.nextProducerIndex=0),J(t)}function Ky(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Nd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Md(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ad(t){Ha(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(IC(n),i!==n.version))return!0}return!1}function Qy(t){if(Ha(t),Nd(t))for(let e=0;e<t.producerNode.length;e++)Md(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Md(t,e){if(DC(t),Ha(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Md(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Ha(r),r.producerIndexOfThis[i]=e}}function Nd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ha(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function DC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bC(){throw new Error}var TC=bC;function Yy(t){TC=t}function A(t){return typeof t=="function"}function gr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ga=gr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function mi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(A(i))try{i()}catch(s){e=s instanceof Ga?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Jy(s)}catch(o){e=e??[],o instanceof Ga?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ga(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Jy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&mi(n,e)}remove(e){let{_finalizers:n}=this;n&&mi(n,e),e instanceof t&&e._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var Rd=Ie.EMPTY;function za(t){return t instanceof Ie||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function Jy(t){A(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mr={setTimeout(t,e,...n){let{delegate:i}=mr;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qa(t){mr.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function _i(){}var Zy=Od("C",void 0,void 0);function Xy(t){return Od("E",void 0,t)}function ev(t){return Od("N",t,void 0)}function Od(t,e,n){return{kind:t,value:e,error:n}}var yi=null;function _r(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!yi;if(e&&(yi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=yi;if(yi=null,n)throw i}}else t()}function tv(t){Nt.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=t)}var vi=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,za(e)&&e.add(this)):this.destination=AC}static create(e,n,i){return new yr(e,n,i)}next(e){this.isStopped?Pd(ev(e),this):this._next(e)}error(e){this.isStopped?Pd(Xy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pd(Zy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CC=Function.prototype.bind;function xd(t,e){return CC.call(t,e)}var kd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Wa(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Wa(i)}else Wa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wa(n)}}},yr=class extends vi{constructor(e,n,i){super();let r;if(A(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Nt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&xd(e.next,s),error:e.error&&xd(e.error,s),complete:e.complete&&xd(e.complete,s)}):r=e}this.destination=new kd(r)}};function Wa(t){Nt.useDeprecatedSynchronousErrorHandling?tv(t):qa(t)}function SC(t){throw t}function Pd(t,e){let{onStoppedNotification:n}=Nt;n&&mr.setTimeout(()=>n(t,e))}var AC={closed:!0,next:_i,error:SC,complete:_i};var vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(t){return t}function Ka(...t){return Fd(t)}function Fd(t){return t.length===0?Je:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var x=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=NC(n)?n:new yr(n,i,r);return _r(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=nv(i),new i((r,s)=>{let o=new yr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[vr](){return this}pipe(...n){return Fd(n)(this)}toPromise(n){return n=nv(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function nv(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function MC(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function NC(t){return t&&t instanceof vi||MC(t)&&za(t)}function Vd(t){return A(t?.lift)}function q(t){return e=>{if(Vd(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,n,i,r){return new Ld(t,e,n,i,r)}var Ld=class extends vi{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wr(){return q((t,e)=>{let n=null;t._refCount++;let i=F(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Er=class extends x{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let n=this.getSubject();e.add(this.source.subscribe(F(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return wr()(this)}};var iv=gr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class t extends x{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Qa(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new iv}next(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Rd:(this.currentObservers=null,s.push(n),new Ie(()=>{this.currentObservers=null,mi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new x;return n.source=this,n}}return t.create=(e,n)=>new Qa(e,n),t})(),Qa=class extends fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Rd}};var Me=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Bd={now(){return(Bd.delegate||Date).now()},delegate:void 0};var Ya=class extends Ie{constructor(e,n){super()}schedule(e,n=0){return this}};var js={setInterval(t,e,...n){let{delegate:i}=js;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ir=class extends Ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return js.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,mi(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Dr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Dr.now=Bd.now;var br=class extends Dr{constructor(e,n=Dr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Ja=new br(Ir),jd=Ja;var Za=class extends Ir{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Xa=class extends br{};var Ud=new Xa(Za);var Fe=new x(t=>t.complete());function ec(t){return t&&A(t.schedule)}function rv(t){return t[t.length-1]}function kn(t){return A(rv(t))?t.pop():void 0}function Fn(t){return ec(rv(t))?t.pop():void 0}function $d(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ov(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(i.next(l))}catch(d){o(d)}}function c(l){try{u(i.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function sv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(t){return this instanceof wi?(this.v=t,this):new wi(t)}function av(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(g,_){s.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{c(i[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof wi?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sv=="function"?sv(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Tr=t=>t&&typeof t.length=="number"&&typeof t!="function";function tc(t){return A(t?.then)}function nc(t){return A(t[vr])}function ic(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sc=RC();function oc(t){return A(t?.[sc])}function ac(t){return av(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield wi(n.read());if(r)return yield wi(void 0);yield yield wi(i)}}finally{n.releaseLock()}})}function cc(t){return A(t?.getReader)}function oe(t){if(t instanceof x)return t;if(t!=null){if(nc(t))return OC(t);if(Tr(t))return xC(t);if(tc(t))return PC(t);if(ic(t))return uv(t);if(oc(t))return kC(t);if(cc(t))return FC(t)}throw rc(t)}function OC(t){return new x(e=>{let n=t[vr]();if(A(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xC(t){return new x(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PC(t){return new x(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qa)})}function kC(t){return new x(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uv(t){return new x(e=>{VC(t,e).catch(n=>e.error(n))})}function FC(t){return uv(ac(t))}function VC(t,e){var n,i,r,s;return ov(this,void 0,void 0,function*(){try{for(n=cv(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function ot(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Vn(t,e=0){return q((n,i)=>{n.subscribe(F(i,r=>ot(i,t,()=>i.next(r),e),()=>ot(i,t,()=>i.complete(),e),r=>ot(i,t,()=>i.error(r),e)))})}function Ln(t,e=0){return q((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function lv(t,e){return oe(t).pipe(Ln(e),Vn(e))}function dv(t,e){return oe(t).pipe(Ln(e),Vn(e))}function hv(t,e){return new x(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function fv(t,e){return new x(n=>{let i;return ot(n,e,()=>{i=t[sc](),ot(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>A(i?.return)&&i.return()})}function uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new x(n=>{ot(n,e,()=>{let i=t[Symbol.asyncIterator]();ot(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function pv(t,e){return uc(ac(t),e)}function gv(t,e){if(t!=null){if(nc(t))return lv(t,e);if(Tr(t))return hv(t,e);if(tc(t))return dv(t,e);if(ic(t))return uc(t,e);if(oc(t))return fv(t,e);if(cc(t))return pv(t,e)}throw rc(t)}function me(t,e){return e?gv(t,e):oe(t)}function N(...t){let e=Fn(t);return me(t,e)}function Cr(t,e){let n=A(t)?t:()=>t,i=r=>r.error(n());return new x(e?r=>e.schedule(i,0,r):i)}function Hd(t){return!!t&&(t instanceof x||A(t.lift)&&A(t.subscribe))}var dn=gr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function mv(t){return t instanceof Date&&!isNaN(t)}function L(t,e){return q((n,i)=>{let r=0;n.subscribe(F(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:LC}=Array;function BC(t,e){return LC(e)?t(...e):t(e)}function Sr(t){return L(e=>BC(t,e))}var{isArray:jC}=Array,{getPrototypeOf:UC,prototype:$C,keys:HC}=Object;function lc(t){if(t.length===1){let e=t[0];if(jC(e))return{args:e,keys:null};if(GC(e)){let n=HC(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function GC(t){return t&&typeof t=="object"&&UC(t)===$C}function dc(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Us(...t){let e=Fn(t),n=kn(t),{args:i,keys:r}=lc(t);if(i.length===0)return me([],e);let s=new x(zC(i,e,r?o=>dc(r,o):Je));return n?s.pipe(Sr(n)):s}function zC(t,e,n=Je){return i=>{_v(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)_v(e,()=>{let u=me(t[c],e),l=!1;u.subscribe(F(i,d=>{s[c]=d,l||(l=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function _v(t,e,n){t?ot(n,t,e):e()}function yv(t,e,n,i,r,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=_=>u<i?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let w=!1;oe(n(_,l++)).subscribe(F(e,D=>{r?.(D),s?f(D):e.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<i;){let D=c.shift();o?ot(e,o,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(F(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return A(e)?_e((i,r)=>L((s,o)=>e(i,s,r,o))(oe(t(i,r))),n):(typeof e=="number"&&(n=e),q((i,r)=>yv(i,r,t,n)))}function Gd(t=1/0){return _e(Je,t)}function vv(){return Gd(1)}function Bn(...t){return vv()(me(t,Fn(t)))}function hc(t){return new x(e=>{oe(t()).subscribe(e)})}function zd(...t){let e=kn(t),{args:n,keys:i}=lc(t),r=new x(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;oe(n[l]).subscribe(F(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(i?dc(i,a):a),s.complete())}))}});return e?r.pipe(Sr(e)):r}var qC=["addListener","removeListener"],WC=["addEventListener","removeEventListener"],KC=["on","off"];function It(t,e,n,i){if(A(n)&&(i=n,n=void 0),i)return It(t,e,n).pipe(Sr(i));let[r,s]=JC(t)?WC.map(o=>a=>t[o](e,a,n)):QC(t)?qC.map(wv(t,e)):YC(t)?KC.map(wv(t,e)):[];if(!r&&Tr(t))return _e(o=>It(o,e,n))(oe(t));if(!r)throw new TypeError("Invalid event target");return new x(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function wv(t,e){return n=>i=>t[n](e,i)}function QC(t){return A(t.addListener)&&A(t.removeListener)}function YC(t){return A(t.on)&&A(t.off)}function JC(t){return A(t.addEventListener)&&A(t.removeEventListener)}function qd(t=0,e,n=jd){let i=-1;return e!=null&&(ec(e)?n=e:i=e),new x(r=>{let s=mv(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:ZC}=Array;function fc(t){return t.length===1&&ZC(t[0])?t[0]:t}function Ve(t,e){return q((n,i)=>{let r=0;n.subscribe(F(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Wd(...t){return t=fc(t),t.length===1?oe(t[0]):new x(XC(t))}function XC(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(oe(t[i]).subscribe(F(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function $s(...t){let e=kn(t),n=fc(t);return n.length?new x(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)oe(n[o]).subscribe(F(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Fe}function jn(t){return q((e,n)=>{let i=null,r=!1,s;i=e.subscribe(F(n,void 0,void 0,o=>{s=oe(t(o,jn(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Ev(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(F(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Ar(t,e){return A(e)?_e(t,e,1):_e(t,1)}function Un(t){return q((e,n)=>{let i=!1;e.subscribe(F(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function at(t){return t<=0?()=>Fe:q((e,n)=>{let i=0;e.subscribe(F(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Kd(t){return L(()=>t)}function pc(t=eS){return q((e,n)=>{let i=!1;e.subscribe(F(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function eS(){return new dn}function Qd(...t){return e=>Bn(e,N(...t))}function Mr(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ve((r,s)=>t(r,s,i)):Je,at(1),n?Un(e):pc(()=>new dn))}function Nr(t){return t<=0?()=>Fe:q((e,n)=>{let i=[];e.subscribe(F(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Yd(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ve((r,s)=>t(r,s,i)):Je,Nr(1),n?Un(e):pc(()=>new dn))}function gc(t,e){return q(Ev(t,e,arguments.length>=2,!0))}function Hs(...t){let e=Fn(t);return q((n,i)=>{(e?Bn(t,n,e):Bn(t,n)).subscribe(i)})}function ft(t,e){return q((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(F(i,c=>{r?.unsubscribe();let u=0,l=s++;oe(t(c,l)).subscribe(r=F(i,d=>i.next(e?e(c,d,l,u++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ge(t){return q((e,n)=>{oe(t).subscribe(F(n,()=>n.complete(),_i)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let i=A(t)||e||n?{next:t,error:e,complete:n}:t;return i?q((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(F(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Je}function mc(...t){let e=kn(t);return q((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)oe(t[c]).subscribe(F(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Je))&&(o=null))},_i));n.subscribe(F(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var tS="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(uf(e,n)),this.code=e}};function uf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function io(t){return{toString:t}.toString()}var _c="__parameters__";function nS(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function n0(t,e,n){return io(()=>{let i=nS(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(_c)?c[_c]:Object.defineProperty(c,_c,{value:[]})[_c];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Gs=globalThis;function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function iS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Xe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rS=ce({__forward_ref__:ce});function Oi(t){return t.__forward_ref__=Oi,t.toString=function(){return Xe(this())},t}function Ze(t){return i0(t)?t():t}function i0(t){return typeof t=="function"&&t.hasOwnProperty(rS)&&t.__forward_ref__===Oi}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gc(t){return Iv(t,s0)||Iv(t,o0)}function r0(t){return Gc(t)!==null}function Iv(t,e){return t.hasOwnProperty(e)?t[e]:null}function sS(t){let e=t&&(t[s0]||t[o0]);return e||null}function Dv(t){return t&&(t.hasOwnProperty(bv)||t.hasOwnProperty(oS))?t[bv]:null}var s0=ce({\u0275prov:ce}),bv=ce({\u0275inj:ce}),o0=ce({ngInjectableDef:ce}),oS=ce({ngInjectorDef:ce}),P=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function a0(t){return t&&!!t.\u0275providers}var aS=ce({\u0275cmp:ce}),cS=ce({\u0275dir:ce}),uS=ce({\u0275pipe:ce}),lS=ce({\u0275mod:ce}),Cc=ce({\u0275fac:ce}),zs=ce({__NG_ELEMENT_ID__:ce}),Tv=ce({__NG_ENV_ID__:ce});function lf(t){return typeof t=="string"?t:t==null?"":String(t)}function dS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():lf(t)}function hS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function df(t,e){throw new C(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),fh;function c0(){return fh}function ct(t){let e=fh;return fh=t,e}function u0(t,e,n){let i=Gc(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&$.Optional)return null;if(e!==void 0)return e;df(t,"Injector")}var fS={},qs=fS,ph="__NG_DI_FLAG__",Sc="ngTempTokenPath",pS="ngTokenPath",gS=/\n/gm,mS="\u0275",Cv="__source",Pr;function _S(){return Pr}function $n(t){let e=Pr;return Pr=t,e}function yS(t,e=$.Default){if(Pr===void 0)throw new C(-203,!1);return Pr===null?u0(t,void 0,e):Pr.get(t,e&$.Optional?null:void 0,e)}function H(t,e=$.Default){return(c0()||yS)(Ze(t),e)}function y(t,e=$.Default){return H(t,zc(e))}function zc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gh(t){let e=[];for(let n=0;n<t.length;n++){let i=Ze(t[n]);if(Array.isArray(i)){if(i.length===0)throw new C(900,!1);let r,s=$.Default;for(let o=0;o<i.length;o++){let a=i[o],c=vS(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(H(r,s))}else e.push(H(i))}return e}function l0(t,e){return t[ph]=e,t.prototype[ph]=e,t}function vS(t){return t[ph]}function wS(t,e,n,i){let r=t[Sc];throw e[Cv]&&r.unshift(e[Cv]),t.message=ES(`
`+t.message,r,n,i),t[pS]=r,t[Sc]=null,t}function ES(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==mS?t.slice(2):t;let r=Xe(e);if(Array.isArray(e))r=e.map(Xe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Xe(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(gS,`
  `)}`}var Vt=l0(n0("Optional"),8);var d0=l0(n0("SkipSelf"),4);function Di(t,e){let n=t.hasOwnProperty(Cc);return n?t[Cc]:null}function IS(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function DS(t){return t.flat(Number.POSITIVE_INFINITY)}function hf(t,e){t.forEach(n=>Array.isArray(n)?hf(n,e):e(n))}function h0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ac(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bS(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function TS(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function ff(t,e,n){let i=ro(t,e);return i>=0?t[i|1]=n:(i=~i,TS(t,i,e,n)),i}function Jd(t,e){let n=ro(t,e);if(n>=0)return t[n|1]}function ro(t,e){return CS(t,e,1)}function CS(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var Fr={},ut=[],Vr=new P(""),f0=new P("",-1),p0=new P(""),Mc=class{get(e,n=qs){if(n===qs){let i=new Error(`NullInjectorError: No provider for ${Xe(e)}!`);throw i.name="NullInjectorError",i}return n}},g0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(g0||{}),Wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wt||{}),et=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(et||{});function SS(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function mh(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];MS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function AS(t){return t===3||t===4||t===6}function MS(t){return t.charCodeAt(0)===64}function Ws(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Sv(t,n,r,null,e[++i]):Sv(t,n,r,null,null))}}return t}function Sv(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var m0="ng-template";function NS(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&SS(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(pf(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function pf(t){return t.type===4&&t.value!==m0}function RS(t,e,n){let i=t.type===4&&!n?m0:t.value;return e===i}function OS(t,e,n){let i=4,r=t.attrs,s=r!==null?kS(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Rt(i)&&!Rt(c))return!1;if(o&&Rt(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!RS(t,c,n)||c===""&&e.length===1){if(Rt(i))return!1;o=!0}}else if(i&8){if(r===null||!NS(t,r,c,n)){if(Rt(i))return!1;o=!0}}else{let u=e[++a],l=xS(c,r,pf(t),n);if(l===-1){if(Rt(i))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=r[l+1].toLowerCase(),i&2&&u!==d){if(Rt(i))return!1;o=!0}}}}return Rt(i)||o}function Rt(t){return(t&1)===0}function xS(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return FS(e,t)}function _0(t,e,n=!1){for(let i=0;i<e.length;i++)if(OS(t,e[i],n))return!0;return!1}function PS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kS(t){for(let e=0;e<t.length;e++){let n=t[e];if(AS(n))return e}return t.length}function FS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function VS(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Av(t,e){return t?":not("+e.trim()+")":e}function LS(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Rt(o)&&(e+=Av(s,r),r=""),i=o,s=s||!Rt(i);n++}return r!==""&&(e+=Av(s,r)),e}function BS(t){return t.map(LS).join(",")}function jS(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!Rt(r))break;r=s}i++}return{attrs:e,classes:n}}function _n(t){return io(()=>{let e=D0(t),n=re(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===g0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wt.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""});b0(n);let i=t.dependencies;return n.directiveDefs=Nv(i,!1),n.pipeDefs=Nv(i,!0),n.id=HS(n),n})}function US(t){return Gn(t)||v0(t)}function $S(t){return t!==null}function it(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mv(t,e){if(t==null)return Fr;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=et.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==et.None?[i,a]:i,e[s]=o):n[s]=i}return n}function ze(t){return io(()=>{let e=D0(t);return b0(e),e})}function y0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gn(t){return t[aS]||null}function v0(t){return t[cS]||null}function w0(t){return t[uS]||null}function E0(t){let e=Gn(t)||v0(t)||w0(t);return e!==null?e.standalone:!1}function I0(t,e){let n=t[lS]||null;if(!n&&e===!0)throw new Error(`Type ${Xe(t)} does not have '\u0275mod' property.`);return n}function D0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mv(t.inputs,e),outputs:Mv(t.outputs),debugInfo:null}}function b0(t){t.features?.forEach(e=>e(t))}function Nv(t,e){if(!t)return null;let n=e?w0:US;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter($S)}function HS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qc(t){return{\u0275providers:t}}function GS(...t){return{\u0275providers:T0(!0,t),\u0275fromNgModule:!0}}function T0(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return hf(e,o=>{let a=o;_h(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&C0(r,s),n}function C0(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];gf(r,s=>{e(s,i)})}}function _h(t,e,n,i){if(t=Ze(t),!t)return!1;let r=null,s=Dv(t),o=!s&&Gn(t);if(!s&&!o){let c=t.ngModule;if(s=Dv(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)_h(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{hf(s.imports,l=>{_h(l,e,n,i)&&(u||=[],u.push(l))})}finally{}u!==void 0&&C0(u,e)}if(!a){let u=Di(r)||(()=>new r);e({provide:r,useFactory:u,deps:ut},r),e({provide:p0,useValue:r,multi:!0},r),e({provide:Vr,useValue:()=>H(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;gf(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function gf(t,e){for(let n of t)a0(n)&&(n=n.\u0275providers),Array.isArray(n)?gf(n,e):e(n)}var zS=ce({provide:String,useValue:ce});function S0(t){return t!==null&&typeof t=="object"&&zS in t}function qS(t){return!!(t&&t.useExisting)}function WS(t){return!!(t&&t.useFactory)}function Lr(t){return typeof t=="function"}function KS(t){return!!t.useClass}var Wc=new P(""),wc={},QS={},Zd;function Kc(){return Zd===void 0&&(Zd=new Mc),Zd}var tt=class{},Ks=class extends tt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vh(e,o=>this.processProvider(o)),this.records.set(f0,Rr(void 0,this)),r.has("environment")&&this.records.set(tt,Rr(void 0,this));let s=this.records.get(Wc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(p0,ut,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$n(this),i=ct(void 0),r;try{return e()}finally{$n(n),ct(i)}}get(e,n=qs,i=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tv))return e[Tv](this);i=zc(i);let r,s=$n(this),o=ct(void 0);try{if(!(i&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=eA(e)&&Gc(e);u&&this.injectableDefInScope(u)?c=Rr(yh(e),wc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&$.Self?Kc():this.parent;return n=i&$.Optional&&n===qs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Sc]=a[Sc]||[]).unshift(Xe(e)),s)throw a;return wS(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(o),$n(s)}}resolveInjectorInitializers(){let e=J(null),n=$n(this),i=ct(void 0),r;try{let s=this.get(Vr,ut,$.Self);for(let o of s)o()}finally{$n(n),ct(i),J(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Xe(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Ze(e);let n=Lr(e)?e:Ze(e&&e.provide),i=JS(e);if(!Lr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Rr(void 0,wc,!0),r.factory=()=>gh(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=J(null);try{return n.value===wc&&(n.value=QS,n.value=n.factory()),typeof n.value=="object"&&n.value&&XS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yh(t){let e=Gc(t),n=e!==null?e.factory:Di(t);if(n!==null)return n;if(t instanceof P)throw new C(204,!1);if(t instanceof Function)return YS(t);throw new C(204,!1)}function YS(t){if(t.length>0)throw new C(204,!1);let n=sS(t);return n!==null?()=>n.factory(t):()=>new t}function JS(t){if(S0(t))return Rr(void 0,t.useValue);{let e=A0(t);return Rr(e,wc)}}function A0(t,e,n){let i;if(Lr(t)){let r=Ze(t);return Di(r)||yh(r)}else if(S0(t))i=()=>Ze(t.useValue);else if(WS(t))i=()=>t.useFactory(...gh(t.deps||[]));else if(qS(t))i=()=>H(Ze(t.useExisting));else{let r=Ze(t&&(t.useClass||t.provide));if(ZS(t))i=()=>new r(...gh(t.deps));else return Di(r)||yh(r)}return i}function Rr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ZS(t){return!!t.deps}function XS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eA(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function vh(t,e){for(let n of t)Array.isArray(n)?vh(n,e):n&&a0(n)?vh(n.\u0275providers,e):e(n)}function xi(t,e){t instanceof Ks&&t.assertNotDestroyed();let n,i=$n(t),r=ct(void 0);try{return e()}finally{$n(i),ct(r)}}function tA(){return c0()!==void 0||_S()!=null}function nA(t){return typeof t=="function"}var yn=0,U=1,R=2,Le=3,xt=4,gt=5,Qs=6,Ys=7,Pt=8,Br=9,Kt=10,be=11,Js=12,Rv=13,Hr=14,kt=15,so=16,Or=17,hn=18,Qc=19,M0=20,Hn=21,Xd=22,bi=23,Ft=25,N0=1;var Ti=7,Nc=8,jr=9,pt=10,mf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(mf||{});function Ei(t){return Array.isArray(t)&&typeof t[N0]=="object"}function vn(t){return Array.isArray(t)&&t[N0]===!0}function R0(t){return(t.flags&4)!==0}function Yc(t){return t.componentOffset>-1}function _f(t){return(t.flags&1)===1}function zn(t){return!!t.template}function iA(t){return(t[R]&512)!==0}var wh=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function O0(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Pi(){return x0}function x0(t){return t.type.prototype.ngOnChanges&&(t.setInput=sA),rA}Pi.ngInherit=!0;function rA(){let t=k0(this),e=t?.current;if(e){let n=t.previous;if(n===Fr)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function sA(t,e,n,i,r){let s=this.declaredInputs[i],o=k0(t)||oA(t,{previous:Fr,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new wh(u&&u.currentValue,n,c===Fr),O0(t,e,r,n)}var P0="__ngSimpleChanges__";function k0(t){return t[P0]||null}function oA(t,e){return t[P0]=e}var Ov=null;var zt=function(t,e,n){Ov?.(t,e,n)},aA="svg",cA="math",uA=!1;function lA(){return uA}function Qt(t){for(;Array.isArray(t);)t=t[yn];return t}function F0(t,e){return Qt(e[t])}function Dt(t,e){return Qt(e[t.index])}function V0(t,e){return t.data[e]}function dA(t,e){return t[e]}function Wn(t,e){let n=e[t];return Ei(n)?n:n[yn]}function hA(t){return(t[R]&4)===4}function yf(t){return(t[R]&128)===128}function fA(t){return vn(t[Le])}function Rc(t,e){return e==null?null:t[e]}function L0(t){t[Or]=0}function pA(t){t[R]&1024||(t[R]|=1024,yf(t)&&Zs(t))}function gA(t,e){for(;t>0;)e=e[Hr],t--;return e}function vf(t){return!!(t[R]&9216||t[bi]?.dirty)}function Eh(t){t[Kt].changeDetectionScheduler?.notify(1),vf(t)?Zs(t):t[R]&64&&(lA()?(t[R]|=1024,Zs(t)):t[Kt].changeDetectionScheduler?.notify())}function Zs(t){t[Kt].changeDetectionScheduler?.notify();let e=Xs(t);for(;e!==null&&!(e[R]&8192||(e[R]|=8192,!yf(e)));)e=Xs(e)}function B0(t,e){if((t[R]&256)===256)throw new C(911,!1);t[Hn]===null&&(t[Hn]=[]),t[Hn].push(e)}function mA(t,e){if(t[Hn]===null)return;let n=t[Hn].indexOf(e);n!==-1&&t[Hn].splice(n,1)}function Xs(t){let e=t[Le];return vn(e)?e[Le]:e}var G={lFrame:Q0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _A(){return G.lFrame.elementDepthCount}function yA(){G.lFrame.elementDepthCount++}function vA(){G.lFrame.elementDepthCount--}function j0(){return G.bindingsEnabled}function U0(){return G.skipHydrationRootTNode!==null}function wA(t){return G.skipHydrationRootTNode===t}function EA(){G.skipHydrationRootTNode=null}function Z(){return G.lFrame.lView}function Ne(){return G.lFrame.tView}function Kn(t){return G.lFrame.contextLView=t,t[Pt]}function Qn(t){return G.lFrame.contextLView=null,t}function mt(){let t=$0();for(;t!==null&&t.type===64;)t=t.parent;return t}function $0(){return G.lFrame.currentTNode}function IA(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function oo(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function H0(){return G.lFrame.isParent}function G0(){G.lFrame.isParent=!1}function DA(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bA(t){return G.lFrame.bindingIndex=t}function Jc(){return G.lFrame.bindingIndex++}function z0(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TA(){return G.lFrame.inI18n}function CA(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ih(e)}function SA(){return G.lFrame.currentDirectiveIndex}function Ih(t){G.lFrame.currentDirectiveIndex=t}function AA(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function q0(){return G.lFrame.currentQueryIndex}function wf(t){G.lFrame.currentQueryIndex=t}function MA(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[gt]:null}function W0(t,e,n){if(n&$.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&$.Host);)if(r=MA(s),r===null||(s=s[Hr],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=G.lFrame=K0();return i.currentTNode=e,i.lView=t,!0}function Ef(t){let e=K0(),n=t[U];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function K0(){let t=G.lFrame,e=t===null?null:t.child;return e===null?Q0(t):e}function Q0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Y0(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var J0=Y0;function If(){let t=Y0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function NA(t){return(G.lFrame.contextLView=gA(t,G.lFrame.contextLView))[Pt]}function ki(){return G.lFrame.selectedIndex}function Ci(t){G.lFrame.selectedIndex=t}function Df(){let t=G.lFrame;return V0(t.tView,t.selectedIndex)}function RA(){return G.lFrame.currentNamespace}var Z0=!0;function bf(){return Z0}function Tf(t){Z0=t}function OA(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=x0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Cf(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ec(t,e,n){X0(t,e,3,n)}function Ic(t,e,n,i){(t[R]&3)===n&&X0(t,e,n,i)}function eh(t,e){let n=t[R];(n&3)===e&&(n&=16383,n+=1,t[R]=n)}function X0(t,e,n,i){let r=i!==void 0?t[Or]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Or]+=65536),(a<s||s==-1)&&(xA(t,n,e,c),t[Or]=(t[Or]&4294901760)+c+2),c++}function xv(t,e){zt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),zt(5,t,e)}}function xA(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[R]>>14<t[Or]>>16&&(t[R]&3)===e&&(t[R]+=16384,xv(a,s)):xv(a,s)}var kr=-1,Si=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function PA(t){return t instanceof Si}function kA(t){return(t.flags&8)!==0}function FA(t){return(t.flags&16)!==0}function ew(t){return t!==kr}function Oc(t){return t&32767}function VA(t){return t>>16}function xc(t,e){let n=VA(t),i=e;for(;n>0;)i=i[Hr],n--;return i}var Dh=!0;function Pc(t){let e=Dh;return Dh=t,e}var LA=256,tw=LA-1,nw=5,BA=0,qt={};function jA(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(zs)&&(i=n[zs]),i==null&&(i=n[zs]=BA++);let r=i&tw,s=1<<r;e.data[t+(r>>nw)]|=s}function kc(t,e){let n=iw(t,e);if(n!==-1)return n;let i=e[U];i.firstCreatePass&&(t.injectorIndex=e.length,th(i.data,t),th(e,null),th(i.blueprint,null));let r=Sf(t,e),s=t.injectorIndex;if(ew(r)){let o=Oc(r),a=xc(r,e),c=a[U].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function th(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=cw(r),i===null)return kr;if(n++,r=r[Hr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return kr}function bh(t,e,n){jA(t,e,n)}function rw(t,e,n){if(n&$.Optional||t!==void 0)return t;df(e,"NodeInjector")}function sw(t,e,n,i){if(n&$.Optional&&i===void 0&&(i=null),!(n&($.Self|$.Host))){let r=t[Br],s=ct(void 0);try{return r?r.get(e,i,n&$.Optional):u0(e,i,n&$.Optional)}finally{ct(s)}}return rw(i,e,n)}function ow(t,e,n,i=$.Default,r){if(t!==null){if(e[R]&2048&&!(i&$.Self)){let o=GA(t,e,n,i,qt);if(o!==qt)return o}let s=aw(t,e,n,i,qt);if(s!==qt)return s}return sw(e,n,i,r)}function aw(t,e,n,i,r){let s=$A(n);if(typeof s=="function"){if(!W0(e,t,i))return i&$.Host?rw(r,n,i):sw(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&$.Optional))df(n);else return o}finally{J0()}}else if(typeof s=="number"){let o=null,a=iw(t,e),c=kr,u=i&$.Host?e[kt][gt]:null;for((a===-1||i&$.SkipSelf)&&(c=a===-1?Sf(t,e):e[a+8],c===kr||!kv(i,!1)?a=-1:(o=e[U],a=Oc(c),e=xc(c,e)));a!==-1;){let l=e[U];if(Pv(s,a,l.data)){let d=UA(a,e,n,o,i,u);if(d!==qt)return d}c=e[a+8],c!==kr&&kv(i,e[U].data[a+8]===u)&&Pv(s,a,e)?(o=l,a=Oc(c),e=xc(c,e)):a=-1}}return r}function UA(t,e,n,i,r,s){let o=e[U],a=o.data[t+8],c=i==null?Yc(a)&&Dh:i!=o&&(a.type&3)!==0,u=r&$.Host&&s===a,l=Dc(a,o,n,c,u);return l!==null?Ai(e,o,l,a):qt}function Dc(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=i?a:a+l,h=r?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(r){let f=o[c];if(f&&zn(f)&&f.type===n)return c}return null}function Ai(t,e,n,i){let r=t[n],s=e.data;if(PA(r)){let o=r;o.resolving&&hS(dS(s[n]));let a=Pc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ct(o.injectImpl):null,l=W0(t,i,$.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&OA(n,s[n],e)}finally{u!==null&&ct(u),Pc(a),o.resolving=!1,J0()}}return r}function $A(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zs)?t[zs]:void 0;return typeof e=="number"?e>=0?e&tw:HA:e}function Pv(t,e,n){let i=1<<t;return!!(n[e+(t>>nw)]&i)}function kv(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var Ii=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return ow(this._tNode,this._lView,e,zc(i),n)}};function HA(){return new Ii(mt(),Z())}function Gr(t){return io(()=>{let e=t.prototype.constructor,n=e[Cc]||Th(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Cc]||Th(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Th(t){return i0(t)?()=>{let e=Th(Ze(t));return e&&e()}:Di(t)}function GA(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[R]&2048&&!(o[R]&512);){let a=aw(s,o,n,i|$.Self,qt);if(a!==qt)return a;let c=s.parent;if(!c){let u=o[M0];if(u){let l=u.get(n,qt,i);if(l!==qt)return l}c=cw(o),o=o[Hr]}s=c}return r}function cw(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[gt]:null}function Fv(t,e=null,n=null,i){let r=uw(t,e,n,i);return r.resolveInjectorInitializers(),r}function uw(t,e=null,n=null,i,r=new Set){let s=[n||ut,GS(t)];return i=i||(typeof t=="object"?void 0:Xe(t)),new Ks(s,e||Kc(),i||null,r)}var lt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return Fv({name:""},r,i,"");{let s=i.name??"";return Fv({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=qs,e.NULL=new Mc,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>H(f0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var zA="ngOriginalError";function nh(t){return t[zA]}var fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&nh(e);for(;n&&nh(n);)n=nh(n);return n||null}},lw=new P("",{providedIn:"root",factory:()=>y(fn).handleError.bind(void 0)}),Af=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qA,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Ch=class extends Af{constructor(e){super(),this._lView=e}onDestroy(e){return B0(this._lView,e),()=>mA(this._lView,e)}};function qA(){return new Ch(Z())}function WA(){return zr(mt(),Z())}function zr(t,e){return new dt(Dt(t,e))}var dt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=WA;let t=e;return t})();function KA(t){return t instanceof dt?t.nativeElement:t}var Sh=class extends fe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,tA()&&(this.destroyRef=y(Af,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=ih(s),r&&(r=ih(r)),o&&(o=ih(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ie&&e.add(a),a}};function ih(t){return e=>{setTimeout(t,void 0,e)}}var ge=Sh;function QA(){return this._results[Symbol.iterator]()}var Ah=class t{get changes(){return this._changes??=new ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=QA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=DS(e);(this._changesDetected=!IS(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function dw(t){return(t.flags&128)===128}var hw=new Map,YA=0;function JA(){return YA++}function ZA(t){hw.set(t[Qc],t)}function XA(t){hw.delete(t[Qc])}var Vv="__ngContext__";function Mi(t,e){Ei(e)?(t[Vv]=e[Qc],ZA(e)):t[Vv]=e}function fw(t){return gw(t[Js])}function pw(t){return gw(t[xt])}function gw(t){for(;t!==null&&!vn(t);)t=t[xt];return t}var Mh;function mw(t){Mh=t}function eM(){if(Mh!==void 0)return Mh;if(typeof document<"u")return document;throw new C(210,!1)}var Mf=new P("",{providedIn:"root",factory:()=>tM}),tM="ng",Nf=new P(""),wn=new P("",{providedIn:"platform",factory:()=>"unknown"});var Rf=new P("",{providedIn:"root",factory:()=>eM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nM="h",iM="b";var rM=()=>null;function Of(t,e,n=!1){return rM(t,e,n)}var _w=!1,sM=new P("",{providedIn:"root",factory:()=>_w});var Nh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tS})`}};function Zc(t){return t instanceof Nh?t.changingThisBreaksApplicationSecurity:t}function yw(t){return t instanceof Function?t():t}var pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(pn||{}),oM;function xf(t,e){return oM(t,e)}function xr(t,e,n,i,r){if(i!=null){let s,o=!1;vn(i)?s=i:Ei(i)&&(o=!0,i=i[yn]);let a=Qt(i);t===0&&n!==null?r==null?bw(e,n,a):Fc(e,n,a,r||null,!0):t===1&&n!==null?Fc(e,n,a,r||null,!0):t===2?EM(e,a,o):t===3&&e.destroyNode(a),s!=null&&DM(e,t,s,n,r)}}function aM(t,e){return t.createText(e)}function cM(t,e,n){t.setValue(e,n)}function vw(t,e,n){return t.createElement(e,n)}function uM(t,e){ww(t,e),e[yn]=null,e[gt]=null}function lM(t,e,n,i,r,s){i[yn]=r,i[gt]=e,Xc(t,i,n,1,r,s)}function ww(t,e){e[Kt].changeDetectionScheduler?.notify(1),Xc(t,e,e[be],2,null,null)}function dM(t){let e=t[Js];if(!e)return rh(t[U],t);for(;e;){let n=null;if(Ei(e))n=e[Js];else{let i=e[pt];i&&(n=i)}if(!n){for(;e&&!e[xt]&&e!==t;)Ei(e)&&rh(e[U],e),e=e[Le];e===null&&(e=t),Ei(e)&&rh(e[U],e),n=e&&e[xt]}e=n}}function hM(t,e,n,i){let r=pt+i,s=n.length;i>0&&(n[r-1][xt]=e),i<s-pt?(e[xt]=n[r],h0(n,pt+i,e)):(n.push(e),e[xt]=null),e[Le]=n;let o=e[so];o!==null&&n!==o&&fM(o,e);let a=e[hn];a!==null&&a.insertView(t),Eh(e),e[R]|=128}function fM(t,e){let n=t[jr],r=e[Le][Le][kt];e[kt]!==r&&(t[R]|=mf.HasTransplantedViews),n===null?t[jr]=[e]:n.push(e)}function Ew(t,e){let n=t[jr],i=n.indexOf(e);n.splice(i,1)}function Rh(t,e){if(t.length<=pt)return;let n=pt+e,i=t[n];if(i){let r=i[so];r!==null&&r!==t&&Ew(r,i),e>0&&(t[n-1][xt]=i[xt]);let s=Ac(t,pt+e);uM(i[U],i);let o=s[hn];o!==null&&o.detachView(s[U]),i[Le]=null,i[xt]=null,i[R]&=-129}return i}function Iw(t,e){if(!(e[R]&256)){let n=e[be];n.destroyNode&&Xc(t,e,n,3,null,null),dM(e)}}function rh(t,e){if(e[R]&256)return;let n=J(null);try{e[R]&=-129,e[R]|=256,e[bi]&&Qy(e[bi]),gM(t,e),pM(t,e),e[U].type===1&&e[be].destroy();let i=e[so];if(i!==null&&vn(e[Le])){i!==e[Le]&&Ew(i,e);let r=e[hn];r!==null&&r.detachView(t)}XA(e)}finally{J(n)}}function pM(t,e){let n=t.cleanup,i=e[Ys];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Ys]=null);let r=e[Hn];if(r!==null){e[Hn]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function gM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Si)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];zt(4,a,c);try{c.call(a)}finally{zt(5,a,c)}}else{zt(4,r,s);try{s.call(r)}finally{zt(5,r,s)}}}}}function Dw(t,e,n){return mM(t,e.parent,n)}function mM(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[yn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Wt.None||s===Wt.Emulated)return null}return Dt(i,n)}}function Fc(t,e,n,i,r){t.insertBefore(e,n,i,r)}function bw(t,e,n){t.appendChild(e,n)}function Lv(t,e,n,i,r){i!==null?Fc(t,e,n,i,r):bw(t,e,n)}function _M(t,e,n,i){t.removeChild(e,n,i)}function Pf(t,e){return t.parentNode(e)}function yM(t,e){return t.nextSibling(e)}function Tw(t,e,n){return wM(t,e,n)}function vM(t,e,n){return t.type&40?Dt(t,n):null}var wM=vM,Bv;function kf(t,e,n,i){let r=Dw(t,i,e),s=e[be],o=i.parent||e[gt],a=Tw(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Lv(s,r,n[c],a,!1);else Lv(s,r,n,a,!1);Bv!==void 0&&Bv(s,i,e,n,r)}function bc(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Oh(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return bc(t,i);{let r=t[e.index];return vn(r)?Oh(-1,r):Qt(r)}}else{if(n&32)return xf(e,t)()||Qt(t[e.index]);{let i=Cw(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Xs(t[kt]);return bc(r,i)}else return bc(t,e.next)}}}return null}function Cw(t,e){if(e!==null){let i=t[kt][gt],r=e.projection;return i.projection[r]}return null}function Oh(t,e){let n=pt+t+1;if(n<e.length){let i=e[n],r=i[U].firstChild;if(r!==null)return bc(i,r)}return e[Ti]}function EM(t,e,n){let i=Pf(t,e);i&&_M(t,i,e,n)}function Ff(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&Mi(Qt(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Ff(t,e,n.child,i,r,s,!1),xr(e,t,r,a,s);else if(c&32){let u=xf(n,i),l;for(;l=u();)xr(e,t,r,l,s);xr(e,t,r,a,s)}else c&16?Sw(t,e,i,n,r,s):xr(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Xc(t,e,n,i,r,s){Ff(n,i,t.firstChild,e,r,s,!1)}function IM(t,e,n){let i=e[be],r=Dw(t,n,e),s=n.parent||e[gt],o=Tw(s,n,e);Sw(i,0,e,n,r,o)}function Sw(t,e,n,i,r,s){let o=n[kt],c=o[gt].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];xr(e,t,r,l,s)}else{let u=c,l=o[Le];dw(i)&&(u.flags|=128),Ff(t,e,u,l,r,s,!0)}}function DM(t,e,n,i,r){let s=n[Ti],o=Qt(n);s!==o&&xr(e,t,i,s,r);for(let a=pt;a<n.length;a++){let c=n[a];Xc(c[U],c,t,e,i,s)}}function bM(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:pn.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=pn.Important),t.setStyle(n,i,r,s))}}function TM(t,e,n){t.setAttribute(e,"style",n)}function Aw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Mw(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&mh(t,e,i),r!==null&&Aw(t,e,r),s!==null&&TM(t,e,s)}var En={};function Yn(t=1){Nw(Ne(),Z(),ki()+t,!1)}function Nw(t,e,n,i){if(!i)if((e[R]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ec(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ic(e,s,0,n)}Ci(n)}function X(t,e=$.Default){let n=Z();if(n===null)return H(t,e);let i=mt();return ow(i,n,Ze(t),e)}function Rw(t,e,n,i,r,s){let o=J(null);try{let a=null;r&et.SignalBased&&(a=e[i][Sd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&et.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):O0(e,a,i,s)}finally{J(o)}}function CM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ci(~r);else{let s=r,o=n[++i],a=n[++i];CA(o,s);let c=e[s];a(2,c)}}}finally{Ci(-1)}}function eu(t,e,n,i,r,s,o,a,c,u,l){let d=e.blueprint.slice();return d[yn]=r,d[R]=i|4|128|8|64,(u!==null||t&&t[R]&2048)&&(d[R]|=2048),L0(d),d[Le]=d[Hr]=t,d[Pt]=n,d[Kt]=o||t&&t[Kt],d[be]=a||t&&t[be],d[Br]=c||t&&t[Br]||null,d[gt]=s,d[Qc]=JA(),d[Qs]=l,d[M0]=u,d[kt]=e.type==2?t[kt]:d,d}function ao(t,e,n,i,r){let s=t.data[e];if(s===null)s=SM(t,e,n,i,r),TA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=IA();s.injectorIndex=o===null?-1:o.injectorIndex}return oo(s,!0),s}function SM(t,e,n,i,r){let s=$0(),o=H0(),a=o?s:s&&s.parent,c=t.data[e]=xM(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Ow(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function xw(t,e,n,i,r){let s=ki(),o=i&2;try{Ci(-1),o&&e.length>Ft&&Nw(t,e,Ft,!1),zt(o?2:0,r),n(i,r)}finally{Ci(s),zt(o?3:1,r)}}function Pw(t,e,n){if(R0(e)){let i=J(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(i)}}}function kw(t,e,n){j0()&&(BM(t,e,n,Dt(n,e)),(n.flags&64)===64&&Uw(t,e,n))}function Fw(t,e,n=Dt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function Vw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vf(t,e,n,i,r,s,o,a,c,u,l){let d=Ft+i,h=d+r,f=AM(d,h),g=typeof u=="function"?u():u;return f[U]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function AM(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:En);return n}function MM(t,e,n,i){let s=i.get(sM,_w)||n===Wt.ShadowDom,o=t.selectRootElement(e,s);return NM(o),o}function NM(t){RM(t)}var RM=()=>null;function OM(t,e,n,i){let r=Gw(e);r.push(n),t.firstCreatePass&&zw(t).push(i,r.length-1)}function xM(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return U0()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jv(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=et.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Uv(i,n,u,a,c):Uv(i,n,u,a)}return i}function Uv(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function PM(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=i;l<r;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=jv(0,d.inputs,l,c,f),u=jv(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!pf(e)?YM(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function kM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Lw(t,e,n,i,r,s,o,a){let c=Dt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[i])?(Lf(t,n,l,i,r),Yc(e)&&FM(n,e.index)):e.type&3?(i=kM(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function FM(t,e){let n=Wn(e,t);n[R]&16||(n[R]|=64)}function Bw(t,e,n,i){if(j0()){let r=i===null?null:{"":-1},s=UM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&jw(t,e,n,o,r,a),r&&$M(n,i,r)}n.mergedAttrs=Ws(n.mergedAttrs,n.attrs)}function jw(t,e,n,i,r,s){for(let u=0;u<i.length;u++)bh(kc(n,e),t,i[u].type);GM(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let l=i[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Ow(t,e,i.length,null);for(let u=0;u<i.length;u++){let l=i[u];n.mergedAttrs=Ws(n.mergedAttrs,l.hostAttrs),zM(t,n,e,c,l),HM(c,l,r),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}PM(t,n,s)}function VM(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;LM(o)!=a&&o.push(a),o.push(n,i,s)}}function LM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BM(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Yc(n)&&qM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||kc(n,e),Mi(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=Ai(e,t,a,n);if(Mi(u,e),o!==null&&QM(e,a-r,u,c,n,o),zn(c)){let l=Wn(n.index,e);l[Pt]=Ai(e,t,a,n)}}}function Uw(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=SA();try{Ci(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];Ih(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jM(c,u)}}finally{Ci(-1),Ih(o)}}function jM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UM(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(_0(e,o.selectors,!1))if(i||(i=[]),zn(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;xh(t,e,c)}else i.unshift(o),xh(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function xh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $M(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new C(-301,!1);i.push(e[r],s)}}}function HM(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;zn(e)&&(n[""]=t)}}function GM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zM(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Di(r.type,!0)),o=new Si(s,zn(r),X);t.blueprint[i]=o,n[i]=o,VM(t,e,i,Ow(t,n,r.hostVars,En),r)}function qM(t,e,n){let i=Dt(e,t),r=Vw(n),s=t[Kt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=tu(t,eu(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function WM(t,e,n,i,r,s){let o=Dt(t,e);KM(e[be],o,s,t.value,n,i,r)}function KM(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?lf(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function QM(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Rw(i,n,c,u,l,d)}}function YM(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function $w(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function Hw(t,e){let n=t.contentQueries;if(n!==null){let i=J(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];wf(s),a.contentQueries(2,e[o],o)}}}finally{J(i)}}}function tu(t,e){return t[Js]?t[Rv][xt]=e:t[Js]=e,t[Rv]=e,e}function Ph(t,e,n){wf(0);let i=J(null);try{e(t,n)}finally{J(i)}}function Gw(t){return t[Ys]||(t[Ys]=[])}function zw(t){return t.cleanup||(t.cleanup=[])}function qw(t,e){let n=t[Br],i=n?n.get(fn,null):null;i&&i.handleError(e)}function Lf(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Rw(l,u,i,a,c,r)}}function JM(t,e,n){let i=F0(e,t);cM(t[be],i,n)}function ZM(t,e){let n=Wn(e,t),i=n[U];XM(i,n);let r=n[yn];r!==null&&n[Qs]===null&&(n[Qs]=Of(r,n[Br])),Bf(i,n,n[Pt])}function XM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bf(t,e,n){Ef(e);try{let i=t.viewQuery;i!==null&&Ph(1,i,n);let r=t.template;r!==null&&xw(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[hn]?.finishViewCreation(t),t.staticContentQueries&&Hw(t,e),t.staticViewQueries&&Ph(2,t.viewQuery,n);let s=t.components;s!==null&&eN(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[R]&=-5,If()}}function eN(t,e){for(let n=0;n<e.length;n++)ZM(t,e[n])}function tN(t,e,n,i){let r=J(null);try{let s=e.tView,a=t[R]&4096?4096:16,c=eu(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[so]=u;let l=t[hn];return l!==null&&(c[hn]=l.createEmbeddedView(s)),Bf(s,c,n),c}finally{J(r)}}function $v(t,e){return!e||e.firstChild===null||dw(t)}function nN(t,e,n,i=!0){let r=e[U];if(hM(r,e,t,n),i){let o=Oh(n,t),a=e[be],c=Pf(a,t[Ti]);c!==null&&lM(r,t[gt],a,e,c,o)}let s=e[Qs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Vc(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Qt(s)),vn(s)&&iN(s,i);let o=n.type;if(o&8)Vc(t,e,n.child,i);else if(o&32){let a=xf(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=Cw(e,n);if(Array.isArray(a))i.push(...a);else{let c=Xs(e[kt]);Vc(c[U],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function iN(t,e){for(let n=pt;n<t.length;n++){let i=t[n],r=i[U].firstChild;r!==null&&Vc(i[U],i,r,e)}t[Ti]!==t[yn]&&e.push(t[Ti])}var Ww=[];function rN(t){return t[bi]??sN(t)}function sN(t){let e=Ww.pop()??Object.create(aN);return e.lView=t,e}function oN(t){t.lView[bi]!==t&&(t.lView=null,Ww.push(t))}var aN=re(I({},qy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zs(t.lView)},consumerOnSignalRead(){this.lView[bi]=this}}),Kw=100;function Qw(t,e=!0,n=0){let i=t[Kt],r=i.rendererFactory,s=!1;s||r.begin?.();try{cN(t,n)}catch(o){throw e&&qw(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function cN(t,e){kh(t,e);let n=0;for(;vf(t);){if(n===Kw)throw new C(103,!1);n++,kh(t,1)}}function uN(t,e,n,i){let r=e[R];if((r&256)===256)return;let s=!1;!s&&e[Kt].inlineEffectRunner?.flush(),Ef(e);let o=null,a=null;!s&&lN(t)&&(a=rN(e),o=Wy(a));try{L0(e),bA(t.bindingStartIndex),n!==null&&xw(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ec(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ic(e,d,0,null),eh(e,0)}if(dN(e),Yw(e,0),t.contentQueries!==null&&Hw(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ec(e,d)}else{let d=t.contentHooks;d!==null&&Ic(e,d,1),eh(e,1)}CM(t,e);let u=t.components;u!==null&&Zw(e,u,0);let l=t.viewQuery;if(l!==null&&Ph(2,l,i),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ec(e,d)}else{let d=t.viewHooks;d!==null&&Ic(e,d,2),eh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xd]){for(let d of e[Xd])d();e[Xd]=null}s||(e[R]&=-73)}catch(c){throw Zs(e),c}finally{a!==null&&(Ky(a,o),oN(a)),If()}}function lN(t){return t.type!==2}function Yw(t,e){for(let n=fw(t);n!==null;n=pw(n))for(let i=pt;i<n.length;i++){let r=n[i];Jw(r,e)}}function dN(t){for(let e=fw(t);e!==null;e=pw(e)){if(!(e[R]&mf.HasTransplantedViews))continue;let n=e[jr];for(let i=0;i<n.length;i++){let r=n[i],s=r[Le];pA(r)}}}function hN(t,e,n){let i=Wn(e,t);Jw(i,n)}function Jw(t,e){yf(t)&&kh(t,e)}function kh(t,e){let i=t[U],r=t[R],s=t[bi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ad(s)),s&&(s.dirty=!1),t[R]&=-9217,o)uN(i,t,i.template,t[Pt]);else if(r&8192){Yw(t,1);let a=i.components;a!==null&&Zw(t,a,1)}}function Zw(t,e,n){for(let i=0;i<e.length;i++)hN(t,e[i],n)}function jf(t){for(t[Kt].changeDetectionScheduler?.notify();t;){t[R]|=64;let e=Xs(t);if(iA(t)&&!e)return t;t=e}return null}var Ni=class{get rootNodes(){let e=this._lView,n=e[U];return Vc(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pt]}set context(e){this._lView[Pt]=e}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(vn(e)){let n=e[Nc],i=n?n.indexOf(this):-1;i>-1&&(Rh(e,i),Ac(n,i))}this._attachedToViewContainer=!1}Iw(this._lView[U],this._lView)}onDestroy(e){B0(this._lView,e)}markForCheck(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[R]&=-129}reattach(){Eh(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,Qw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ww(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Eh(this._lView)}},gn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gN;let t=e;return t})(),fN=gn,pN=class extends fN{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=tN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Ni(r)}};function gN(){return nu(mt(),Z())}function nu(t,e){return t.type&4?new pN(e,t,zr(t,e)):null}var qz=new RegExp(`^(\\d+)*(${iM}|${nM})*(.*)`);var mN=()=>null;function Hv(t,e){return mN(t,e)}var Fh=class{},Vh=class{},Lc=class{};function _N(t){let e=Error(`No component factory found for ${Xe(t)}.`);return e[yN]=t,e}var yN="ngComponent";var Lh=class{resolveComponentFactory(e){throw _N(e)}},iu=(()=>{let e=class e{};e.NULL=new Lh;let t=e;return t})(),eo=class{},qr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vN();let t=e;return t})();function vN(){let t=Z(),e=mt(),n=Wn(e.index,t);return(Ei(n)?n:t)[be]}var wN=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),sh={};var Gv=new Set;function Xw(t){Gv.has(t)||(Gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var eE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bh(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=hh(r,a);else if(s==2){let c=a,u=e[++o];i=hh(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Bc=class extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gn(e);return new Ur(n,this.ngModule)}};function zv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function EN(t){let e=t.toLowerCase();return e==="svg"?aA:e==="math"?cA:null}var jh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=zc(i);let r=this.injector.get(e,sh,i);return r!==sh||n===sh?r:this.parentInjector.get(e,n,i)}},Ur=class extends Lc{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=zv(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return zv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=J(null);try{r=r||this.ngModule;let o=r instanceof tt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new jh(e,o):e,c=a.get(eo,null);if(c===null)throw new C(407,!1);let u=a.get(wN,null),l=a.get(eE,null),d=a.get(Fh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=i?MM(f,i,this.componentDef.encapsulation,a):vw(f,g,EN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let D=null;_!==null&&(D=Of(_,a,!0));let Q=Vf(0,null,null,1,0,null,null,null,null,null,null),z=eu(null,Q,null,w,null,null,h,f,a,null,D);Ef(z);let le,ke;try{let ie=this.componentDef,He,Ht=null;ie.findHostDirectiveDefs?(He=[],Ht=new Map,ie.findHostDirectiveDefs(ie,He,Ht),He.push(ie)):He=[ie];let gi=IN(z,_),pr=DN(gi,_,ie,He,z,h,f);ke=V0(Q,Ft),_&&CN(f,ie,_,i),n!==void 0&&SN(ke,this.ngContentSelectors,n),le=TN(pr,ie,He,Ht,z,[AN]),Bf(Q,z,null)}finally{If()}return new Uh(this.componentType,le,zr(ke,z),z,ke)}finally{J(s)}}},Uh=class extends Vh{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ni(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Lf(s[U],s,r,e,n),this.previousInputValues.set(e,n);let o=Wn(this._tNode.index,s);jf(o)}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function IN(t,e){let n=t[U],i=Ft;return t[i]=e,ao(n,i,2,"#host",null)}function DN(t,e,n,i,r,s,o){let a=r[U];bN(i,t,e,o);let c=null;e!==null&&(c=Of(e,r[Br]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=eu(r,Vw(n),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&xh(a,t,i.length-1),tu(r,d),r[t.index]=d}function bN(t,e,n,i){for(let r of t)e.mergedAttrs=Ws(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Bh(e,e.mergedAttrs,!0),n!==null&&Mw(i,n,e))}function TN(t,e,n,i,r,s){let o=mt(),a=r[U],c=Dt(o,r);jw(a,r,o,n,null,i);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ai(r,a,d,o);Mi(h,r)}Uw(a,r,o),c&&Mi(c,r);let u=Ai(r,a,o.directiveStart+o.componentOffset,o);if(t[Pt]=r[Pt]=u,s!==null)for(let l of s)l(u,e);return Pw(a,o,r),u}function CN(t,e,n,i){if(i)mh(t,n,["ng-version","17.3.7"]);else{let{attrs:r,classes:s}=jS(e.selectors[0]);r&&mh(t,n,r),s&&s.length>0&&Aw(t,n,s.join(" "))}}function SN(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function AN(){let t=mt();Cf(Z()[U],t)}var In=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MN;let t=e;return t})();function MN(){let t=mt();return nE(t,Z())}var NN=In,tE=class extends NN{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return zr(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sf(this._hostTNode,this._hostLView);if(ew(e)){let n=xc(e,this._hostLView),i=Oc(e),r=n[U].data[i+8];return new Ii(r,n)}else return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Hv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,$v(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!nA(e),a;if(o)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Ur(Gn(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(tt,null);_&&(s=_)}let l=Gn(c.componentType??{}),d=Hv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,r,h,s);return this.insertImpl(f.hostView,a,$v(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(fA(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Le],u=new tE(c,c[gt],c[Le]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return nN(o,r,s,i),e.attachToViewContainerRef(),h0(oh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Rh(this._lContainer,n);i&&(Ac(oh(this._lContainer),n),Iw(i[U],i))}detach(e){let n=this._adjustIndex(e,-1),i=Rh(this._lContainer,n);return i&&Ac(oh(this._lContainer),n)!=null?new Ni(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function qv(t){return t[Nc]}function oh(t){return t[Nc]||(t[Nc]=[])}function nE(t,e){let n,i=e[t.index];return vn(i)?n=i:(n=$w(i,e,null,t),e[t.index]=n,tu(e,n)),ON(n,e,t,i),new tE(n,t,e)}function RN(t,e){let n=t[be],i=n.createComment(""),r=Dt(e,t),s=Pf(n,r);return Fc(n,s,i,yM(n,r),!1),i}var ON=kN,xN=()=>!1;function PN(t,e,n){return xN(t,e,n)}function kN(t,e,n,i){if(t[Ti])return;let r;n.type&8?r=Qt(i):r=RN(e,n),t[Ti]=r}var $h=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Uf(e,n).matches!==null&&this.queries[n].setDirty()}},Gh=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=HN(e):this.predicate=e}},zh=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,FN(n,s)),this.matchTNodeWithReadOption(e,n,Dc(n,e,s,!1,!1))}else i===gn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Dc(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===dt||r===In||r===gn&&n.type&4)this.addMatch(n.index,-2);else{let s=Dc(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function FN(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function VN(t,e){return t.type&11?zr(t,e):t.type&4?nu(t,e):null}function LN(t,e,n,i){return n===-1?VN(e,t):n===-2?BN(t,e,i):Ai(t,t[U],n,e)}function BN(t,e,n){if(n===dt)return zr(e,t);if(n===gn)return nu(e,t);if(n===In)return nE(e,t)}function iE(t,e,n,i){let r=e[hn].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(LN(e,l,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Wh(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=iE(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=pt;d<l.length;d++){let h=l[d];h[so]===h[Le]&&Wh(h[U],h,u,i)}if(l[jr]!==null){let d=l[jr];for(let h=0;h<d.length;h++){let f=d[h];Wh(f[U],f,u,i)}}}}}return i}function jN(t,e){return t[hn].queries[e].queryList}function UN(t,e,n){let i=new Ah((n&4)===4);return OM(t,e,i,i.destroy),(e[hn]??=new Hh).queries.push(new $h(i))-1}function $N(t,e,n){let i=Ne();return i.firstCreatePass&&(GN(i,new Gh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),UN(i,Z(),e)}function HN(t){return t.split(",").map(e=>e.trim())}function GN(t,e,n){t.queries===null&&(t.queries=new zh),t.queries.track(new qh(e,n))}function Uf(t,e){return t.queries.getByIndex(e)}function zN(t,e){let n=t[U],i=Uf(n,e);return i.crossesNgTemplate?Wh(n,t,e,[]):iE(n,t,i,e)}function qN(t){return typeof t=="function"&&t[Sd]!==void 0}function rE(t){return qN(t)&&typeof t.set=="function"}function WN(t){return Object.getPrototypeOf(t.prototype).constructor}function Dn(t){let e=WN(t.type),n=!0,i=[t];for(;e;){let r;if(zn(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=yc(t.inputs),o.inputTransforms=yc(t.inputTransforms),o.declaredInputs=yc(t.declaredInputs),o.outputs=yc(t.outputs);let a=r.hostBindings;a&&ZN(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&YN(t,c),u&&JN(t,u),KN(t,r),iS(t.outputs,r.outputs),zn(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Dn&&(n=!1)}}e=Object.getPrototypeOf(e)}QN(i)}function KN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function QN(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ws(r.hostAttrs,n=Ws(n,r.hostAttrs))}}function yc(t){return t===Fr?{}:t===ut?[]:t}function YN(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function JN(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function ZN(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var qn=class{},to=class{};var Kh=class extends qn{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);let r=I0(e);this._bootstrapComponents=yw(r.bootstrap),this._r3Injector=uw(e,n,[{provide:qn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...i],Xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qh=class extends to{constructor(e){super(),this.moduleType=e}create(e){return new Kh(this.moduleType,e,[])}};var jc=class extends qn{constructor(e){super(),this.componentFactoryResolver=new Bc(this),this.instance=null;let n=new Ks([...e.providers,{provide:qn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||Kc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $f(t,e,n=null){return new jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ru=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sE(t){return eR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function XN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function eR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function tR(t,e,n){return t[e]=n}function Fi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function nR(t){return(t.flags&32)===32}function iR(t,e,n,i,r,s,o,a,c){let u=e.consts,l=ao(e,t,4,o||null,Rc(u,a));Bw(e,n,l,Rc(u,c)),Cf(e,l);let d=l.tView=Vf(2,l,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function co(t,e,n,i,r,s,o,a){let c=Z(),u=Ne(),l=t+Ft,d=u.firstCreatePass?iR(l,u,c,e,n,i,r,s,o):u.data[l];oo(d,!1);let h=rR(u,c,d,t);bf()&&kf(u,c,h,d),Mi(h,c);let f=$w(h,c,h,d);return c[l]=f,tu(c,f),PN(f,d,c),_f(d)&&kw(u,c,d),o!=null&&Fw(c,d,a),co}var rR=sR;function sR(t,e,n,i){return Tf(!0),e[be].createComment("")}function Wv(...t){}function oR(){let t=typeof Gs.requestAnimationFrame=="function",e=Gs[t?"requestAnimationFrame":"setTimeout"],n=Gs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=oR().nativeRequestAnimationFrame,uR(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,aR,Wv,Wv);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},aR={};function Hf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yh(t),t.isCheckStableRunning=!0,Hf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yh(t))}function uR(t){let e=()=>{cR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(lR(a))return n.invokeTask(r,s,o,a);try{return Kv(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qv(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return Kv(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qv(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Yh(t),Hf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Yh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qv(t){t._nesting--,Hf(t)}function lR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function uo(t,e,n,i){let r=Z(),s=Jc();if(Fi(r,s,e)){let o=Ne(),a=Df();WM(a,r,t,e,n,i)}return uo}function dR(t,e,n,i){return Fi(t,Jc(),n)?e+lf(n)+i:En}function vc(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function hR(t){return(t&2)==2}function fR(t,e){return t&131071|e<<17}function Jh(t){return t|2}function $r(t){return(t&131068)>>2}function ah(t,e){return t&-131069|e<<2}function pR(t){return(t&1)===1}function Zh(t){return t|1}function gR(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ri(o),c=$r(o);t[i]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ro(d,l)>0)&&(u=!0)}else l=n;if(r)if(c!==0){let h=Ri(t[a+1]);t[i+1]=vc(h,a),h!==0&&(t[h+1]=ah(t[h+1],i)),t[a+1]=fR(t[a+1],i)}else t[i+1]=vc(a,0),a!==0&&(t[a+1]=ah(t[a+1],i)),a=i;else t[i+1]=vc(c,0),a===0?a=i:t[c+1]=ah(t[c+1],i),c=i;u&&(t[i+1]=Jh(t[i+1])),Yv(t,l,i,!0),Yv(t,l,i,!1),mR(e,l,t,i,s),o=vc(a,c),s?e.classBindings=o:e.styleBindings=o}function mR(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ro(s,e)>=0&&(n[i+1]=Zh(n[i+1]))}function Yv(t,e,n,i){let r=t[n+1],s=e===null,o=i?Ri(r):$r(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];_R(c,e)&&(a=!0,t[o+1]=i?Zh(u):Jh(u)),o=i?Ri(u):$r(u)}a&&(t[n+1]=i?Jh(r):Zh(r))}function _R(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ro(t,e)>=0:!1}var Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yR(t){return t.substring(Ot.key,Ot.keyEnd)}function vR(t){return wR(t),oE(t,aE(t,0,Ot.textEnd))}function oE(t,e){let n=Ot.textEnd;return n===e?-1:(e=Ot.keyEnd=ER(t,Ot.key=e,n),aE(t,e,n))}function wR(t){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=t.length}function aE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ER(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Vi(t,e,n){let i=Z(),r=Jc();if(Fi(i,r,e)){let s=Ne(),o=Df();Lw(s,o,i,t,e,i[be],n,!1)}return Vi}function Xh(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Lf(t,n,s[o],o,i)}function Jn(t,e){return DR(t,e,null,!0),Jn}function su(t){bR(NR,IR,t,!0)}function IR(t,e){for(let n=vR(e);n>=0;n=oE(e,n))ff(t,yR(e),!0)}function DR(t,e,n,i){let r=Z(),s=Ne(),o=z0(2);if(s.firstUpdatePass&&uE(s,t,o,i),e!==En&&Fi(r,o,e)){let a=s.data[ki()];lE(s,a,r,r[be],t,r[o+1]=OR(e,n),i,o)}}function bR(t,e,n,i){let r=Ne(),s=z0(2);r.firstUpdatePass&&uE(r,null,s,i);let o=Z();if(n!==En&&Fi(o,s,n)){let a=r.data[ki()];if(dE(a,i)&&!cE(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=hh(c,n||"")),Xh(r,a,o,n,i)}else RR(r,a,o,o[be],o[s+1],o[s+1]=MR(t,e,n),i,s)}}function cE(t,e){return e>=t.expandoStartIndex}function uE(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[ki()],o=cE(t,n);dE(s,i)&&e===null&&!o&&(e=!1),e=TR(r,s,e,i),gR(r,s,e,n,o,i)}}function TR(t,e,n,i){let r=AA(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=ch(null,t,e,n,i),n=no(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=ch(r,t,e,n,i),s===null){let c=CR(t,e,i);c!==void 0&&Array.isArray(c)&&(c=ch(null,t,e,c[1],i),c=no(c,e.attrs,i),SR(t,e,i,c))}else s=AR(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function CR(t,e,n){let i=n?e.classBindings:e.styleBindings;if($r(i)!==0)return t[Ri(i)]}function SR(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Ri(r)]=i}function AR(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=no(i,o,n)}return no(i,e.attrs,n)}function ch(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=no(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function no(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ff(t,o,n?!0:e[++s]))}return t===void 0?null:t}function MR(t,e,n){if(n==null||n==="")return ut;let i=[],r=Zc(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function NR(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&ff(t,i,n)}function RR(t,e,n,i,r,s,o,a){r===En&&(r=ut);let c=0,u=0,l=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<r.length?r[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,_;l===d?(c+=2,u+=2,h!==f&&(g=d,_=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,_=f),g!==null&&lE(t,e,n,i,g,_,o,a),l=c<r.length?r[c]:null,d=u<s.length?s[u]:null}}function lE(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=pR(u)?Jv(c,e,n,r,$r(u),o):void 0;if(!Uc(l)){Uc(s)||hR(u)&&(s=Jv(c,null,n,r,a,o));let d=F0(ki(),n);bM(i,o,d,r,s)}}function Jv(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[r+1];h===En&&(h=d?ut:void 0);let f=d?Jd(h,i):l===i?h:void 0;if(u&&!Uc(f)&&(f=Jd(c,i)),Uc(f)&&(a=f,o))return a;let g=t[r+1];r=o?Ri(g):$r(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Jd(c,i))}return a}function Uc(t){return t!==void 0}function OR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Xe(Zc(t)))),t}function dE(t,e){return(t.flags&(e?8:16))!==0}function xR(t,e,n,i,r,s){let o=e.consts,a=Rc(o,r),c=ao(e,t,2,i,a);return Bw(e,n,c,Rc(o,s)),c.attrs!==null&&Bh(c,c.attrs,!1),c.mergedAttrs!==null&&Bh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ue(t,e,n,i){let r=Z(),s=Ne(),o=Ft+t,a=r[be],c=s.firstCreatePass?xR(o,s,r,e,n,i):s.data[o],u=PR(s,r,c,a,e,t);r[o]=u;let l=_f(c);return oo(c,!0),Mw(a,u,c),!nR(c)&&bf()&&kf(s,r,u,c),_A()===0&&Mi(u,r),yA(),l&&(kw(s,r,c),Pw(s,c,r)),i!==null&&Fw(r,c),ue}function de(){let t=mt();H0()?G0():(t=t.parent,oo(t,!1));let e=t;wA(e)&&EA(),vA();let n=Ne();return n.firstCreatePass&&(Cf(n,t),R0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kA(e)&&Xh(n,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FA(e)&&Xh(n,e,Z(),e.stylesWithoutHost,!1),de}function Zn(t,e,n,i){return ue(t,e,n,i),de(),Zn}var PR=(t,e,n,i,r,s)=>(Tf(!0),vw(i,r,RA()));function lo(){return Z()}var $c="en-US";var kR=$c;function FR(t){typeof t=="string"&&(kR=t.toLowerCase().replace(/_/g,"-"))}function ht(t,e,n,i){let r=Z(),s=Ne(),o=mt();return hE(s,r,r[be],o,t,e,i),ht}function VR(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Ys],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function hE(t,e,n,i,r,s,o){let a=_f(i),u=t.firstCreatePass&&zw(t),l=e[Pt],d=Gw(e),h=!0;if(i.type&3||o){let _=Dt(i,e),w=o?o(_):_,D=d.length,Q=o?le=>o(Qt(le[i.index])):i.index,z=null;if(!o&&a&&(z=VR(t,e,r,i.index)),z!==null){let le=z.__ngLastListenerFn__||z;le.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,h=!1}else{s=Xv(i,e,l,s,!1);let le=n.listen(w,r,s);d.push(s,le),u&&u.push(r,Q,D,D+1)}}else s=Xv(i,e,l,s,!1);let f=i.outputs,g;if(h&&f!==null&&(g=f[r])){let _=g.length;if(_)for(let w=0;w<_;w+=2){let D=g[w],Q=g[w+1],ke=e[D][Q].subscribe(s),ie=d.length;d.push(s,ke),u&&u.push(r,i.index,ie,-(ie+1))}}}function Zv(t,e,n,i){let r=J(null);try{return zt(6,e,n),n(i)!==!1}catch(s){return qw(t,s),!1}finally{zt(7,e,n),J(r)}}function Xv(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?Wn(t.index,e):e;jf(a);let c=Zv(e,n,i,o),u=s.__ngNextListenerFn__;for(;u;)c=Zv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Li(t=1){return NA(t)}function LR(t,e){let n=null,i=PS(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?_0(t,s,!0):VS(i,s))return r}return n}function fE(t){let e=Z()[kt][gt];if(!e.projection){let n=t?t.length:1,i=e.projection=bS(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?LR(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function pE(t,e=0,n){let i=Z(),r=Ne(),s=ao(r,Ft+t,16,null,n||null);s.projection===null&&(s.projection=e),G0(),(!i[Qs]||U0())&&(s.flags&32)!==32&&IM(r,i,s)}function ou(t,e,n){$N(t,e,n)}function ho(t){let e=Z(),n=Ne(),i=q0();wf(i+1);let r=Uf(n,i);if(t.dirty&&hA(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=zN(e,i);t.reset(s,KA),t.notifyOnChanges()}return!0}return!1}function fo(){return jN(Z(),q0())}function BR(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Se(t,e=""){let n=Z(),i=Ne(),r=t+Ft,s=i.firstCreatePass?ao(i,r,1,e,null):i.data[r],o=jR(i,n,s,e,t);n[r]=o,bf()&&kf(i,n,o,s),oo(s,!1)}var jR=(t,e,n,i,r)=>(Tf(!0),aM(e[be],i));function au(t){return Gf("",t,""),au}function Gf(t,e,n){let i=Z(),r=dR(i,t,e,n);return r!==En&&JM(i,ki(),r),Gf}function zf(t,e,n){rE(e)&&(e=e());let i=Z(),r=Jc();if(Fi(i,r,e)){let s=Ne(),o=Df();Lw(s,o,i,t,e,i[be],n,!1)}return zf}function gE(t,e){let n=rE(t);return n&&t.set(e),n}function qf(t,e){let n=Z(),i=Ne(),r=mt();return hE(i,n,n[be],r,t,e),qf}function UR(t,e,n){let i=Ne();if(i.firstCreatePass){let r=zn(t);ef(n,i.data,i.blueprint,r,!0),ef(e,i.data,i.blueprint,r,!1)}}function ef(t,e,n,i,r){if(t=Ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)ef(t[s],e,n,i,r);else{let s=Ne(),o=Z(),a=mt(),c=Lr(t)?t:Ze(t.provide),u=A0(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Lr(t)||!t.multi){let f=new Si(u,r,X),g=lh(c,e,r?l:l+h,d);g===-1?(bh(kc(a,o),s,c),uh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=lh(c,e,l+h,d),g=lh(c,e,l,l+h),_=f>=0&&n[f],w=g>=0&&n[g];if(r&&!w||!r&&!_){bh(kc(a,o),s,c);let D=GR(r?HR:$R,n.length,r,i,u);!r&&w&&(n[g].providerFactory=D),uh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=mE(n[r?g:f],u,!r&&i);uh(s,t,f>-1?f:g,D)}!r&&i&&w&&n[g].componentProviders++}}}function uh(t,e,n,i){let r=Lr(e),s=KS(e);if(r||s){let c=(s?Ze(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[i,c]):u[l+1].push(i,c)}else u.push(n,c)}}}function mE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lh(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function $R(t,e,n,i){return tf(this.multi,[])}function HR(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ai(n,n[U],this.providerFactory.index,i);s=a.slice(0,o),tf(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],tf(r,s);return s}function tf(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function GR(t,e,n,i,r){let s=new Si(t,n,X);return s.multi=[],s.index=e,s.componentProviders=0,mE(s,r,i&&!n),s}function po(t,e=[]){return n=>{n.providersResolver=(i,r)=>UR(i,r?r(t):t,e)}}var zR=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=T0(!1,i.type),s=r.length>0?$f([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(H(tt))});let t=e;return t})();function bn(t){Xw("NgStandalone"),t.getStandaloneInjector=e=>e.get(zR).getOrCreateStandaloneInjector(t)}function qR(t,e){let n=t[e];return n===En?void 0:n}function WR(t,e,n,i,r,s){let o=e+n;return Fi(t,o,r)?tR(t,o+1,s?i.call(s,r):i(r)):qR(t,o+1)}function Wf(t,e){let n=Ne(),i,r=t+Ft;n.firstCreatePass?(i=KR(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Di(i.type,!0)),o,a=ct(X);try{let c=Pc(!1),u=s();return Pc(c),BR(n,Z(),r,u),u}finally{ct(a)}}function KR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Kf(t,e,n){let i=t+Ft,r=Z(),s=dA(r,i);return QR(r,i)?WR(r,DA(),e,s.transform,n,s):s.transform(n)}function QR(t,e){return t[U].data[e].pure}function Qf(t,e){return nu(t,e)}var mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_E=new mn("17.3.7"),cu=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var yE=new P("");function Xn(t){return!!t&&typeof t.then=="function"}function Yf(t){return!!t&&typeof t.subscribe=="function"}var vE=new P(""),wE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=y(vE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Xn(o))i.push(o);else if(Yf(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jf=new P("");function YR(){Yy(()=>{throw new C(600,!1)})}function JR(t){return t.isBoundToModule}function ZR(t,e,n){try{let i=n();return Xn(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Bi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(lw),this.afterRenderEffectManager=y(eE),this.externalTestViews=new Set,this.beforeRender=new fe,this.afterTick=new fe,this.componentTypes=[],this.components=[],this.isStable=y(ru).hasPendingTasks.pipe(L(i=>!i)),this._injector=y(tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Lc;if(!this._injector.get(wE).done){let f=!s&&E0(i),g=!1;throw new C(405,g)}let a;s?a=i:a=this._injector.get(iu).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=JR(a)?void 0:this._injector.get(qn),u=r||a.selector,l=a.create(lt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(yE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),dh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new C(101,!1);let r=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,J(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===Kw)throw new C(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)XR(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>nf(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>nf(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;dh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Jf,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>dh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new C(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XR(t,e,n){!e&&!nf(t)||eO(t,n,e)}function nf(t){return vf(t)}function eO(t,e,n){let i;n?(i=0,t[R]|=1024):t[R]&64?i=0:i=1,Qw(t,e,i)}var rf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Zf=(()=>{let e=class e{compileModuleSync(i){return new Qh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=I0(i),o=yw(s.declarations).reduce((a,c)=>{let u=Gn(c);return u&&a.push(new Ur(u)),a},[]);return new rf(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tO=(()=>{let e=class e{constructor(){this.zone=y(ee),this.applicationRef=y(Bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nO(t){return[{provide:ee,useFactory:t},{provide:Vr,multi:!0,useFactory:()=>{let e=y(tO,{optional:!0});return()=>e.initialize()}},{provide:Vr,multi:!0,useFactory:()=>{let e=y(oO);return()=>{e.initialize()}}},{provide:lw,useFactory:iO}]}function iO(){let t=y(ee),e=y(fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function rO(t){let e=nO(()=>new ee(sO(t)));return qc([[],e])}function sO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var oO=(()=>{let e=class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=y(ee),this.pendingTasks=y(ru)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aO(){return typeof $localize<"u"&&$localize.locale||$c}var uu=new P("",{providedIn:"root",factory:()=>y(uu,$.Optional|$.SkipSelf)||aO()});var EE=new P("");var Tc=null;function cO(t=[],e){return lt.create({name:e,providers:[{provide:Wc,useValue:"platform"},{provide:EE,useValue:new Set([()=>Tc=null])},...t]})}function uO(t=[]){if(Tc)return Tc;let e=cO(t);return Tc=e,YR(),lO(e),e}function lO(t){t.get(Nf,null)?.forEach(n=>n())}var Yt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dO;let t=e;return t})();function dO(t){return hO(mt(),Z(),(t&16)===16)}function hO(t,e,n){if(Yc(t)&&!n){let i=Wn(t.index,e);return new Ni(i,i)}else if(t.type&47){let i=e[kt];return new Ni(i,e)}return null}var sf=class{constructor(){}supports(e){return sE(e)}create(e){return new of(e)}},fO=(t,e)=>e,of=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<e0(i,r,s)?n:i,a=e0(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sE(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,XN(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new af(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hc),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},af=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Hc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new cf,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function e0(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function t0(){return new Xf([new sf])}var Xf=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||t0()),deps:[[e,new d0,new Vt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new C(901,!1)}};e.\u0275prov=S({token:e,providedIn:"root",factory:t0});let t=e;return t})();function IE(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=uO(i),s=[rO(),...n||[]],a=new jc({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ee);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(fn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=r.get(EE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),ZR(u,c,()=>{let f=a.get(wE);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(uu,$c);FR(g||$c);let _=a.get(Bi);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function lu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ep(t){let e=J(null);try{return t()}finally{J(e)}}function du(t,e){let n=Gn(t),i=e.elementInjector||Kc();return new Ur(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var AE=null;function Tn(){return AE}function ME(t){AE??=t}var hu=class{};var qe=new P(""),NE=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(mO),providedIn:"platform"});let t=e;return t})();var mO=(()=>{let e=class e extends NE{constructor(){super(),this._doc=y(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tn().getBaseHref(this._doc)}onPopState(i){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function RE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function ji(t){return t&&t[0]!=="?"?"?"+t:t}var pu=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(OE),providedIn:"root"});let t=e;return t})(),_O=new P(""),OE=(()=>{let e=class e extends pu{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return RE(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ji(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(H(NE),H(_O,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var go=(()=>{let e=class e{constructor(i){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=wO(DE(bE(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ji(r))}normalize(i){return e.stripTrailingSlash(vO(this._basePath,bE(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ji(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ji(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ji,e.joinWithSlash=RE,e.stripTrailingSlash=DE,e.\u0275fac=function(r){return new(r||e)(H(pu))},e.\u0275prov=S({token:e,factory:()=>yO(),providedIn:"root"});let t=e;return t})();function yO(){return new go(H(pu))}function vO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bE(t){return t.replace(/\/index.html$/,"")}function wO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function xE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var tp=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},PE=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new tp(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),TE(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);TE(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(In),X(gn),X(Xf))},e.\u0275dir=ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function TE(t,e){t.context.$implicit=e.item}var kE=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new np,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){CE("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){CE("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(In),X(gn))},e.\u0275dir=ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),np=class{constructor(){this.$implicit=null,this.ngIf=null}};function CE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Xe(e)}'.`)}function EO(t,e){return new C(2100,!1)}var ip=class{createSubscription(e,n){return ep(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){ep(()=>e.unsubscribe())}},rp=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},IO=new rp,DO=new ip,FE=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(Xn(i))return IO;if(Yf(i))return DO;throw EO(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(Yt,16))},e.\u0275pipe=y0({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ui=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({});let t=e;return t})(),VE="browser",bO="server";function sp(t){return t===bO}var fu=class{};var cp=class extends hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},up=class t extends cp{static makeCurrent(){ME(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=CO();return n==null?null:SO(n)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xE(document.cookie,e)}},mo=null;function CO(){return mo=mo||document.querySelector("base"),mo?mo.getAttribute("href"):null}function SO(t){return new URL(t,document.baseURI).pathname}var AO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),lp=new P(""),UE=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(H(lp),H(ee))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),gu=class{constructor(e){this._doc=e}},op="ng-app-id",$E=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sp(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${op}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(op),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(op,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(H(qe),H(Mf),H(Rf,8),H(wn))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hp=/%COMP%/g,HE="%COMP%",MO=`_nghost-${HE}`,NO=`_ngcontent-${HE}`,RO=!0,OO=new P("",{providedIn:"root",factory:()=>RO});function xO(t){return NO.replace(hp,t)}function PO(t){return MO.replace(hp,t)}function GE(t,e){return e.map(n=>n.replace(hp,t))}var LE=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,l=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=sp(c),this.defaultRenderer=new _o(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Wt.ShadowDom&&(r=re(I({},r),{encapsulation:Wt.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof mu?s.applyToHost(i):s instanceof yo&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Wt.Emulated:o=new mu(u,l,r,this.appId,d,a,c,h);break;case Wt.ShadowDom:return new dp(u,l,i,r,a,c,this.nonce,h);default:o=new yo(u,l,r,d,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(H(UE),H($E),H(Mf),H(OO),H(qe),H(wn),H(ee),H(Rf))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),_o=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ap[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(BE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new C(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=ap[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=ap[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(pn.DashCase|pn.Important)?e.style.setProperty(n,i,r&pn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function BE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var dp=class extends _o{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=GE(r.id,r.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends _o{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?GE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mu=class extends yo{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=xO(u),this.hostAttr=PO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},kO=(()=>{let e=class e extends gu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(H(qe))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),jE=["alt","control","meta","shift"],FO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},LO=(()=>{let e=class e extends gu{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tn().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),jE.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=FO[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jE.forEach(a=>{if(a!==s){let c=VO[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(H(qe))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function zE(t,e){return IE(I({rootComponent:t},BO(e)))}function BO(t){return{appProviders:[...GO,...t?.providers??[]],platformProviders:HO}}function jO(){up.makeCurrent()}function UO(){return new fn}function $O(){return mw(document),document}var HO=[{provide:wn,useValue:VE},{provide:Nf,useValue:jO,multi:!0},{provide:qe,useFactory:$O,deps:[]}];var GO=[{provide:Wc,useValue:"root"},{provide:fn,useFactory:UO,deps:[]},{provide:lp,useClass:kO,multi:!0,deps:[qe,ee,wn]},{provide:lp,useClass:LO,multi:!0,deps:[qe]},LE,$E,UE,{provide:eo,useExisting:LE},{provide:fu,useClass:AO,deps:[]},[]];var qE=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(H(qe))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j="primary",xo=Symbol("RouteTitle"),_p=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Jr(t){return new _p(t)}function WO(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function KO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Jt(t[n],e[n]))return!1;return!0}function Jt(t,e){let n=t?yp(t):void 0,i=e?yp(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!ZE(t[r],e[r]))return!1;return!0}function yp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function XE(t){return t.length>0?t[t.length-1]:null}function ni(t){return Hd(t)?t:Xn(t)?me(Promise.resolve(t)):N(t)}var QO={exact:tI,subset:nI},eI={exact:YO,subset:JO,ignored:()=>!0};function WE(t,e,n){return QO[n.paths](t.root,e.root,n.matrixParams)&&eI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YO(t,e){return Jt(t,e)}function tI(t,e,n){if(!Hi(t.segments,e.segments)||!vu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!tI(t.children[i],e.children[i],n))return!1;return!0}function JO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZE(t[n],e[n]))}function nI(t,e,n){return iI(t,e,e.segments,n)}function iI(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Hi(r,n)||e.hasChildren()||!vu(r,n,i))}else if(t.segments.length===n.length){if(!Hi(t.segments,n)||!vu(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!nI(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Hi(t.segments,r)||!vu(t.segments,r,i)||!t.children[j]?!1:iI(t.children[j],e,s,i)}}function vu(t,e,n){return e.every((i,r)=>eI[n](t[r].parameters,i.parameters))}var ei=class{constructor(e=new se([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){return ex.serialize(this)}},se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wu(this)}},$i=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Jr(this.parameters),this._parameterMap}toString(){return sI(this)}};function ZO(t,e){return Hi(t,e)&&t.every((n,i)=>Jt(n.parameters,e[i].parameters))}function Hi(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function XO(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===j&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==j&&(n=n.concat(e(r,i)))}),n}var Gp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>new Iu,providedIn:"root"});let t=e;return t})(),Iu=class{parse(e){let n=new wp(e);return new ei(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${vo(e.root,!0)}`,i=ix(e.queryParams),r=typeof e.fragment=="string"?`#${tx(e.fragment)}`:"";return`${n}${i}${r}`}},ex=new Iu;function wu(t){return t.segments.map(e=>sI(e)).join("/")}function vo(t,e){if(!t.hasChildren())return wu(t);if(e){let n=t.children[j]?vo(t.children[j],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==j&&i.push(`${r}:${vo(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=XO(t,(i,r)=>r===j?[vo(t.children[j],!1)]:[`${r}:${vo(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${wu(t)}/${n[0]}`:`${wu(t)}/(${n.join("//")})`}}function rI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _u(t){return rI(t).replace(/%3B/gi,";")}function tx(t){return encodeURI(t)}function vp(t){return rI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eu(t){return decodeURIComponent(t)}function KE(t){return Eu(t.replace(/\+/g,"%20"))}function sI(t){return`${vp(t.path)}${nx(t.parameters)}`}function nx(t){return Object.entries(t).map(([e,n])=>`;${vp(e)}=${vp(n)}`).join("")}function ix(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${_u(n)}=${_u(r)}`).join("&"):`${_u(n)}=${_u(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rx=/^[^\/()?;#]+/;function fp(t){let e=t.match(rx);return e?e[0]:""}var sx=/^[^\/()?;=#]+/;function ox(t){let e=t.match(sx);return e?e[0]:""}var ax=/^[^=?&#]+/;function cx(t){let e=t.match(ax);return e?e[0]:""}var ux=/^[^&#]+/;function lx(t){let e=t.match(ux);return e?e[0]:""}var wp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[j]=new se(e,n)),i}parseSegment(){let e=fp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new $i(Eu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ox(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=fp(this.remaining);r&&(i=r,this.capture(i))}e[Eu(n)]=Eu(i)}parseQueryParam(e){let n=cx(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=lx(this.remaining);o&&(i=o,this.capture(i))}let r=KE(n),s=KE(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=fp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new C(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=j);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[j]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function oI(t){return t.segments.length>0?new se([],{[j]:t}):t}function aI(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=aI(r);if(i===j&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new se(t.segments,e);return dx(n)}function dx(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new se(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof ei}function hx(t,e,n=null,i=null){let r=cI(t);return uI(r,e,n,i)}function cI(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new se(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=oI(i);return e??r}function uI(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return pp(r,r,r,n,i);let s=fx(e);if(s.toRoot())return pp(r,r,new se([],{}),n,i);let o=px(s,r,t),a=o.processChildren?Io(o.segmentGroup,o.index,s.commands):dI(o.segmentGroup,o.index,s.commands);return pp(r,o.segmentGroup,a,n,i)}function Du(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function To(t){return typeof t=="object"&&t!=null&&t.outlets}function pp(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=lI(t,e,n);let a=oI(aI(o));return new ei(a,s,r)}function lI(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=lI(s,e,n)}),new se(t.segments,i)}var bu=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Du(i[0]))throw new C(4003,!1);let r=i.find(To);if(r&&r!==XE(i))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bu(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new bu(n,e,i)}var Qr=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function px(t,e,n){if(t.isAbsolute)return new Qr(e,!0,0);if(!n)return new Qr(e,!1,NaN);if(n.parent===null)return new Qr(n,!0,0);let i=Du(t.commands[0])?0:1,r=n.segments.length-1+i;return gx(n,r,t.numberOfDoubleDots)}function gx(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new C(4005,!1);r=i.segments.length}return new Qr(i,!1,r-s)}function mx(t){return To(t[0])?t[0].outlets:{[j]:t}}function dI(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return Io(t,e,n);let i=_x(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new se(t.segments.slice(0,i.pathIndex),{});return s.children[j]=new se(t.segments.slice(i.pathIndex),t.children),Io(s,0,r)}else return i.match&&r.length===0?new se(t.segments,{}):i.match&&!t.hasChildren()?Ep(t,e,n):i.match?Io(t,0,r):Ep(t,e,n)}function Io(t,e,n){if(n.length===0)return new se(t.segments,{});{let i=mx(n),r={};if(Object.keys(i).some(s=>s!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let s=Io(t.children[j],e,n);return new se(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=dI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new se(t.segments,r)}}function _x(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(To(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!YE(c,u,o))return s;i+=2}else{if(!YE(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Ep(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(To(s)){let c=yx(s.outlets);return new se(i,c)}if(r===0&&Du(n[0])){let c=t.segments[e];i.push(new $i(c.path,QE(n[0]))),r++;continue}let o=To(s)?s.outlets[j]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Du(a)?(i.push(new $i(o,QE(a))),r+=2):(i.push(new $i(o,{})),r++)}return new se(i,{})}function yx(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Ep(new se([],{}),0,i))}),e}function QE(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function YE(t,e,n){return t==n.path&&Jt(e,n.parameters)}var Do="imperative",Be=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Be||{}),bt=class{constructor(e,n){this.id=e,this.url=n}},Co=class extends bt{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Be.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gi=class extends bt{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(yt||{}),Ip=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ip||{}),ti=class extends bt{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zi=class extends bt{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Be.NavigationSkipped}},So=class extends bt{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tu=class extends bt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends bt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends bt{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tp=class extends bt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends bt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ap=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mp=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{constructor(e){this.snapshot=e,this.type=Be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=Be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ao=class{},Mo=class{constructor(e){this.url=e}};var xp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ru,this.attachRef=null}},Ru=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new xp,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pp(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Pp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return kp(e,this._root).map(n=>n.value)}};function Pp(t,e){if(t===e.value)return e;for(let n of e.children){let i=Pp(t,n);if(i)return i}return null}function kp(t,e){if(t===e.value)return[e];for(let n of e.children){let i=kp(t,n);if(i.length)return i.unshift(e),i}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Kr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Su=class extends Cu{constructor(e,n){super(e),this.snapshot=n,qp(this,e)}toString(){return this.snapshot.toString()}};function hI(t){let e=vx(t),n=new Me([new $i("",{})]),i=new Me({}),r=new Me({}),s=new Me({}),o=new Me(""),a=new Xr(n,i,s,o,r,j,t,e.root);return a.snapshot=e.root,new Su(new _t(a,[]),e)}function vx(t){let e={},n={},i={},r="",s=new No([],e,i,r,n,j,t,null,{});return new Au("",new _t(s,[]))}var Xr=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(u=>u[xo]))??N(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Jr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Jr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zp(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),r?.data),t._resolvedData)}:i={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},r&&pI(r)&&(i.resolve[xo]=r.title),i}var No=class{get title(){return this.data?.[xo]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Au=class extends Cu{constructor(e,n){super(n),this.url=e,qp(this,n)}toString(){return fI(this._root)}};function qp(t,e){e.value._routerState=t,e.children.forEach(n=>qp(t,n))}function fI(t){let e=t.children.length>0?` { ${t.children.map(fI).join(", ")} } `:"";return`${t.value}${e}`}function gp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Jt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Jt(e.params,n.params)||t.paramsSubject.next(n.params),KO(e.url,n.url)||t.urlSubject.next(n.url),Jt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fp(t,e){let n=Jt(t.params,e.params)&&ZO(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Fp(t.parent,e.parent))}function pI(t){return typeof t.title=="string"||t.title===null}var Wp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=y(Ru),this.location=y(In),this.changeDetector=y(Yt),this.environmentInjector=y(tt),this.inputBinder=y(Kp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Vp(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pi]});let t=e;return t})(),Vp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Xr?this.route:e===Ru?this.childContexts:this.parent.get(e,n)}},Kp=new P("");function wx(t,e,n){let i=Ro(t,e._root,n?n._root:void 0);return new Su(i,e)}function Ro(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Ex(t,e,n);return new _t(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ro(t,a)),o}}let i=Ix(e.value),r=e.children.map(s=>Ro(t,s));return new _t(i,r)}}function Ex(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ro(t,i,r);return Ro(t,i)})}function Ix(t){return new Xr(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var gI="ngNavigationCancelingError";function mI(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=_I(!1,yt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function _I(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gI]=!0,n.cancellationCode=e,n}function Dx(t){return yI(t)&&Zr(t.url)}function yI(t){return!!t&&t[gI]}var bx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_n({type:e,selectors:[["ng-component"]],standalone:!0,features:[bn],decls:1,vars:0,template:function(r,s){r&1&&Zn(0,"router-outlet")},dependencies:[Wp],encapsulation:2});let t=e;return t})();function Tx(t,e){return t.providers&&!t._injector&&(t._injector=$f(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qp(t){let e=t.children&&t.children.map(Qp),n=e?re(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=bx),n}function Zt(t){return t.outlet||j}function Cx(t,e){let n=t.filter(i=>Zt(i)===e);return n.push(...t.filter(i=>Zt(i)!==e)),n}function Po(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Sx=(t,e,n,i)=>L(r=>(new Lp(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Lp=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),gp(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Kr(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Kr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Kr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Kr(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Op(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Np(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(gp(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Po(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Mu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yr=class{constructor(e,n){this.component=e,this.route=n}};function Ax(t,e,n){let i=t._root,r=e?e._root:null;return wo(i,r,n,[i.value])}function Mx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ts(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!r0(t)?t:e.get(t):i}function wo(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Kr(e);return t.children.forEach(o=>{Nx(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>bo(a,n.getContext(o),r)),r}function Nx(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Rx(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Mu(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?wo(t,e,a?a.children:null,i,r):wo(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Yr(a.outlet.component,o))}else o&&bo(e,a,r),r.canActivateChecks.push(new Mu(i)),s.component?wo(t,null,a?a.children:null,i,r):wo(t,null,n,i,r);return r}function Rx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hi(t.url,e.url)||!Jt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fp(t,e)||!Jt(t.queryParams,e.queryParams);case"paramsChange":default:return!Fp(t,e)}}function bo(t,e,n){let i=Kr(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?bo(o,e.children.getContext(s),n):bo(o,null,n):bo(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yr(e.outlet.component,r)):n.canDeactivateChecks.push(new Yr(null,r)):n.canDeactivateChecks.push(new Yr(null,r))}function ko(t){return typeof t=="function"}function Ox(t){return typeof t=="boolean"}function xx(t){return t&&ko(t.canLoad)}function Px(t){return t&&ko(t.canActivate)}function kx(t){return t&&ko(t.canActivateChild)}function Fx(t){return t&&ko(t.canDeactivate)}function Vx(t){return t&&ko(t.canMatch)}function vI(t){return t instanceof dn||t?.name==="EmptyError"}var yu=Symbol("INITIAL_VALUE");function es(){return ft(t=>Us(t.map(e=>e.pipe(at(1),Hs(yu)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===yu)return yu;if(n===!1||n instanceof ei)return n}return!0}),Ve(e=>e!==yu),at(1)))}function Lx(t,e){return _e(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(re(I({},n),{guardsResult:!0})):Bx(o,i,r,t).pipe(_e(a=>a&&Ox(a)?jx(i,s,t,e):N(a)),L(a=>re(I({},n),{guardsResult:a})))})}function Bx(t,e,n,i){return me(t).pipe(_e(r=>zx(r.component,r.route,n,e,i)),Gt(r=>r!==!0,!0))}function jx(t,e,n,i){return me(e).pipe(Ar(r=>Bn($x(r.route.parent,i),Ux(r.route,i),Gx(t,r.path,n),Hx(t,r.route,n))),Gt(r=>r!==!0,!0))}function Ux(t,e){return t!==null&&e&&e(new Rp(t)),N(!0)}function $x(t,e){return t!==null&&e&&e(new Mp(t)),N(!0)}function Hx(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return N(!0);let r=i.map(s=>hc(()=>{let o=Po(e)??n,a=ts(s,o),c=Px(a)?a.canActivate(e,t):xi(o,()=>a(e,t));return ni(c).pipe(Gt())}));return N(r).pipe(es())}function Gx(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Mx(o)).filter(o=>o!==null).map(o=>hc(()=>{let a=o.guards.map(c=>{let u=Po(o.node)??n,l=ts(c,u),d=kx(l)?l.canActivateChild(i,t):xi(u,()=>l(i,t));return ni(d).pipe(Gt())});return N(a).pipe(es())}));return N(s).pipe(es())}function zx(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Po(e)??r,u=ts(a,c),l=Fx(u)?u.canDeactivate(t,e,n,i):xi(c,()=>u(t,e,n,i));return ni(l).pipe(Gt())});return N(o).pipe(es())}function qx(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return N(!0);let s=r.map(o=>{let a=ts(o,t),c=xx(a)?a.canLoad(e,n):xi(t,()=>a(e,n));return ni(c)});return N(s).pipe(es(),wI(i))}function wI(t){return Ka(De(e=>{if(Zr(e))throw mI(t,e)}),L(e=>e===!0))}function Wx(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return N(!0);let s=r.map(o=>{let a=ts(o,t),c=Vx(a)?a.canMatch(e,n):xi(t,()=>a(e,n));return ni(c)});return N(s).pipe(es(),wI(i))}var Oo=class{constructor(e){this.segmentGroup=e||null}},Nu=class extends Error{constructor(e){super(),this.urlTree=e}};function Wr(t){return Cr(new Oo(t))}function Kx(t){return Cr(new C(4e3,!1))}function Qx(t){return Cr(_I(!1,yt.GuardRejected))}var Bp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return N(i);if(r.numberOfChildren>1||!r.children[j])return Kx(e.redirectTo);r=r.children[j]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Nu(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new ei(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new se(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new C(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yx(t,e,n,i,r){let s=Yp(t,e,n);return s.matched?(i=Tx(e,i),Wx(i,e,n,r).pipe(L(o=>o===!0?s:I({},jp)))):N(s)}function Yp(t,e,n){if(e.path==="**")return Jx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||WO)(n,t,e);if(!r)return I({},jp);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?I(I({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Jx(t){return{matched:!0,parameters:t.length>0?XE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JE(t,e,n,i){return n.length>0&&eP(t,n,i)?{segmentGroup:new se(e,Xx(i,new se(n,t.children))),slicedSegments:[]}:n.length===0&&tP(t,n,i)?{segmentGroup:new se(t.segments,Zx(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function Zx(t,e,n,i){let r={};for(let s of n)if(Ou(t,e,s)&&!i[Zt(s)]){let o=new se([],{});r[Zt(s)]=o}return I(I({},i),r)}function Xx(t,e){let n={};n[j]=e;for(let i of t)if(i.path===""&&Zt(i)!==j){let r=new se([],{});n[Zt(i)]=r}return n}function eP(t,e,n){return n.some(i=>Ou(t,e,i)&&Zt(i)!==j)}function tP(t,e,n){return n.some(i=>Ou(t,e,i))}function Ou(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nP(t,e,n,i){return Zt(t)!==i&&(i===j||!Ou(e,n,t))?!1:Yp(e,t,n).matched}function iP(t,e,n){return e.length===0&&!t.children[n]}var Up=class{};function rP(t,e,n,i,r,s,o="emptyOnly"){return new $p(t,e,n,i,r,o,s).recognize()}var sP=31,$p=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Bp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=JE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(n=>{let i=new No([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),r=new _t(i,n),s=new Au("",r),o=hx(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,j).pipe(jn(i=>{if(i instanceof Nu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Oo?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=zp(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(L(s=>s instanceof _t?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return me(r).pipe(Ar(s=>{let o=i.children[s],a=Cx(n,s);return this.processSegmentGroup(e,a,o,s)}),gc((s,o)=>(s.push(...o),s)),Un(null),Yd(),_e(s=>{if(s===null)return Wr(i);let o=EI(s);return oP(o),N(o)}))}processSegment(e,n,i,r,s,o){return me(n).pipe(Ar(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(jn(c=>{if(c instanceof Oo)return N(null);throw c}))),Gt(a=>!!a),jn(a=>{if(vI(a))return iP(i,r,s)?N(new Up):Wr(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return nP(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Wr(r):Wr(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Yp(n,r,s);if(!a)return Wr(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,d).pipe(_e(h=>this.processSegment(e,i,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=Yx(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(ft(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ft(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new No(l,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,cP(i),Zt(i),i.component??i._loadedComponent??null,i,uP(i)),{segmentGroup:g,slicedSegments:_}=JE(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(L(D=>D===null?null:new _t(f,D)));if(c.length===0&&_.length===0)return N(new _t(f,[]));let w=Zt(i)===s;return this.processSegment(u,c,g,_,w?j:s,!0).pipe(L(D=>new _t(f,D instanceof _t?[D]:[])))}))):Wr(n)))}getChildConfig(e,n,i){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):qx(e,n,i,this.urlSerializer).pipe(_e(r=>r?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Qx(n))):N({routes:[],injector:e})}};function oP(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function aP(t){let e=t.value.routeConfig;return e&&e.path===""}function EI(t){let e=[],n=new Set;for(let i of t){if(!aP(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=EI(i.children);e.push(new _t(i.value,r))}return e.filter(i=>!n.has(i))}function cP(t){return t.data||{}}function uP(t){return t.resolve||{}}function lP(t,e,n,i,r,s){return _e(o=>rP(t,e,n,i,o.extractedUrl,r,s).pipe(L(({state:a,tree:c})=>re(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function dP(t,e){return _e(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return N(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of II(c))o.add(u);let a=0;return me(o).pipe(Ar(c=>s.has(c)?hP(c,i,t,e):(c.data=zp(c,c.parent,t).resolve,N(void 0))),De(()=>a++),Nr(1),_e(c=>a===o.size?N(n):Fe))})}function II(t){let e=t.children.map(n=>II(n)).flat();return[t,...e]}function hP(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!pI(r)&&(s[xo]=r.title),fP(s,t,e,i).pipe(L(o=>(t._resolvedData=o,t.data=zp(t,t.parent,n).resolve,null)))}function fP(t,e,n,i){let r=yp(t);if(r.length===0)return N({});let s={};return me(r).pipe(_e(o=>pP(t[o],e,n,i).pipe(Gt(),De(a=>{s[o]=a}))),Nr(1),Kd(s),jn(o=>vI(o)?Fe:Cr(o)))}function pP(t,e,n,i){let r=Po(e)??i,s=ts(t,r),o=s.resolve?s.resolve(e,n):xi(r,()=>s(e,n));return ni(o)}function mp(t){return ft(e=>{let n=t(e);return n?me(n).pipe(L(()=>e)):N(e)})}var DI=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(i){return i.data[xo]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(gP),providedIn:"root"});let t=e;return t})(),gP=(()=>{let e=class e extends DI{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(H(qE))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jp=new P("",{providedIn:"root",factory:()=>({})}),Zp=new P(""),mP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Zf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return N(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ni(i.loadComponent()).pipe(L(bI),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Mr(()=>{this.componentLoaders.delete(i)})),s=new Er(r,()=>new fe).pipe(wr());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_P(r,this.compiler,i,this.onLoadEndListener).pipe(Mr(()=>{this.childrenLoaders.delete(r)})),a=new Er(o,()=>new fe).pipe(wr());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _P(t,e,n,i){return ni(t.loadChildren()).pipe(L(bI),_e(r=>r instanceof to||Array.isArray(r)?N(r):me(e.compileModuleAsync(r))),L(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Zp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qp),injector:s}}))}function yP(t){return t&&typeof t=="object"&&"default"in t}function bI(t){return yP(t)?t.default:t}var Xp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(vP),providedIn:"root"});let t=e;return t})(),vP=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wP=new P("");var EP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=y(mP),this.environmentInjector=y(tt),this.urlSerializer=y(Gp),this.rootContexts=y(Ru),this.location=y(go),this.inputBindingEnabled=y(Kp,{optional:!0})!==null,this.titleStrategy=y(DI),this.options=y(Jp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Xp),this.createViewTransition=y(wP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Sp(s)),r=s=>this.events.next(new Ap(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(re(I(I({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Me({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Do,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(o=>o.id!==0),L(o=>re(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ft(o=>{let a=!1,c=!1;return N(o).pipe(ft(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),Fe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new zi(u.id,this.urlSerializer.serialize(u.rawUrl),h,Ip.IgnoredSameUrlNavigation)),u.resolve(null),Fe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(ft(h=>{let f=this.transitions?.getValue();return this.events.next(new Co(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Fe:Promise.resolve(h)}),lP(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),De(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=re(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Tu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:_,extras:w}=u,D=new Co(h,this.urlSerializer.serialize(f),g,_);this.events.next(D);let Q=hI(this.rootComponentType).snapshot;return this.currentTransition=o=re(I({},u),{targetSnapshot:Q,urlAfterRedirects:f,extras:re(I({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let h="";return this.events.next(new zi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Ip.IgnoredByUrlHandlingStrategy)),u.resolve(null),Fe}}),De(u=>{let l=new Dp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),L(u=>(this.currentTransition=o=re(I({},u),{guards:Ax(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Lx(this.environmentInjector,u=>this.events.next(u)),De(u=>{if(o.guardsResult=u.guardsResult,Zr(u.guardsResult))throw mI(this.urlSerializer,u.guardsResult);let l=new bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ve(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",yt.GuardRejected),!1)),mp(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(De(l=>{let d=new Tp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ft(l=>{let d=!1;return N(l).pipe(dP(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",yt.NoDataFromResolver)}}))}),De(l=>{let d=new Cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),mp(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(De(f=>{d.component=f}),L(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Us(l(u.targetSnapshot.root)).pipe(Un(null),at(1))}),mp(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?me(d).pipe(L(()=>o)):N(o)}),L(u=>{let l=wx(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=re(I({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),De(()=>{this.events.next(new Ao)}),Sx(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),at(1),De({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ge(this.transitionAbortSubject.pipe(De(u=>{throw u}))),Mr(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),jn(u=>{if(c=!0,yI(u))this.events.next(new ti(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Dx(u)?this.events.next(new Mo(u.url)):o.resolve(!1);else{this.events.next(new So(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Fe}))}))}cancelNavigationTransition(i,r,s){let o=new ti(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IP(t){return t!==Do}var DP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(bP),providedIn:"root"});let t=e;return t})(),Hp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},bP=(()=>{let e=class e extends Hp{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Gr(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>y(TP),providedIn:"root"});let t=e;return t})(),TP=(()=>{let e=class e extends TI{constructor(){super(...arguments),this.location=y(go),this.urlSerializer=y(Gp),this.options=y(Jp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Xp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Co)this.stateMemento=this.createStateMemento();else if(i instanceof zi)this.rawUrlTree=r.initialUrl;else if(i instanceof Tu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Ao?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof ti&&(i.code===yt.GuardRejected||i.code===yt.NoDataFromResolver)?this.restoreHistory(r):i instanceof So?this.restoreHistory(r,!0):i instanceof Gi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=I(I({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Gr(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Eo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Eo||{});function CP(t,e){t.events.pipe(Ve(n=>n instanceof Gi||n instanceof ti||n instanceof So||n instanceof zi),L(n=>n instanceof Gi||n instanceof zi?Eo.COMPLETE:(n instanceof ti?n.code===yt.Redirect||n.code===yt.SupersededByNewNavigation:!1)?Eo.REDIRECTING:Eo.FAILED),Ve(n=>n!==Eo.REDIRECTING),at(1)).subscribe(()=>{e()})}function SP(t){throw t}var AP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},CI=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y(cu),this.stateManager=y(TI),this.options=y(Jp,{optional:!0})||{},this.pendingTasks=y(ru),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(EP),this.urlSerializer=y(Gp),this.location=y(go),this.urlHandlingStrategy=y(Xp),this._events=new fe,this.errorHandler=this.options.errorHandler||SP,this.navigated=!1,this.routeReuseStrategy=y(DP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Zp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Kp,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=y(ee)instanceof ee&&ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ti&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gi)this.navigated=!0;else if(r instanceof Mo){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||IP(s.source)};this.scheduleNavigation(a,Do,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}RP(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Do,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=I({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Qp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=cI(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return uI(h,i,d,l??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Zr(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Do,null,r)}navigate(i,r={skipLocationChange:!1}){return NP(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=I({},AP):r===!1?s=I({},MP):s=r,Zr(i))return WE(this.currentUrlTree,i,s);let o=this.parseUrl(i);return WE(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return CP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function RP(t){return!(t instanceof Ao)&&!(t instanceof Mo)}var OP=new P("");function SI(t,...e){return qc([{provide:Zp,multi:!0,useValue:t},[],{provide:Xr,useFactory:xP,deps:[CI]},{provide:Jf,multi:!0,useFactory:PP},e.map(n=>n.\u0275providers)])}function xP(t){return t.routerState.root}function PP(){let t=y(lt);return e=>{let n=t.get(Bi);if(e!==n.components[0])return;let i=t.get(CI),r=t.get(kP);t.get(FP)===1&&i.initialNavigation(),t.get(VP,null,$.Optional)?.setUpPreloading(),t.get(OP,null,$.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var kP=new P("",{factory:()=>new fe}),FP=new P("",{providedIn:"root",factory:()=>1});var VP=new P("");var kI=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(X(qr),X(dt))},e.\u0275dir=ze({type:e});let t=e;return t})(),LP=(()=>{let e=class e extends kI{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Gr(e)))(s||e)}})(),e.\u0275dir=ze({type:e,features:[Dn]});let t=e;return t})(),FI=new P("");var BP={provide:FI,useExisting:Oi(()=>Bu),multi:!0};function jP(){let t=Tn()?Tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UP=new P(""),Bu=(()=>{let e=class e extends kI{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jP())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(X(qr),X(dt),X(UP,8))},e.\u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ht("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[po([BP]),Dn]});let t=e;return t})();var VI=new P(""),LI=new P("");function BI(t){return t!=null}function jI(t){return Xn(t)?me(t):t}function UI(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function $I(t,e){return e.map(n=>n(t))}function $P(t){return!t.validate}function HI(t){return t.map(e=>$P(e)?e:n=>e.validate(n))}function HP(t){if(!t)return null;let e=t.filter(BI);return e.length==0?null:function(n){return UI($I(n,e))}}function tg(t){return t!=null?HP(HI(t)):null}function GP(t){if(!t)return null;let e=t.filter(BI);return e.length==0?null:function(n){let i=$I(n,e).map(jI);return zd(i).pipe(L(UI))}}function ng(t){return t!=null?GP(HI(t)):null}function AI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zP(t){return t._rawValidators}function qP(t){return t._rawAsyncValidators}function eg(t){return t?Array.isArray(t)?t:[t]:[]}function Pu(t,e){return Array.isArray(t)?t.includes(e):t===e}function MI(t,e){let n=eg(e);return eg(t).forEach(r=>{Pu(n,r)||n.push(r)}),n}function NI(t,e){return eg(e).filter(n=>!Pu(t,n))}var ku=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ng(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},is=class extends ku{get formDirective(){return null}get path(){return null}},Bo=class extends ku{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},WP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N5=re(I({},WP),{"[class.ng-submitted]":"isSubmitted"}),GI=(()=>{let e=class e extends Fu{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(X(Bo,2))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Jn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Dn]});let t=e;return t})(),zI=(()=>{let e=class e extends Fu{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(X(is,10))},e.\u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Jn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Dn]});let t=e;return t})();var Fo="VALID",xu="INVALID",ns="PENDING",Vo="DISABLED";function qI(t){return(ju(t)?t.validators:t)||null}function KP(t){return Array.isArray(t)?tg(t):t||null}function WI(t,e){return(ju(e)?e.asyncValidators:t)||null}function QP(t){return Array.isArray(t)?ng(t):t||null}function ju(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function YP(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new C(1e3,"");if(!i[n])throw new C(1001,"")}function JP(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new C(1002,"")})}var Vu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fo}get invalid(){return this.status===xu}get pending(){return this.status==ns}get disabled(){return this.status===Vo}get enabled(){return this.status!==Vo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NI(e,this._rawAsyncValidators))}hasValidator(e){return Pu(this._rawValidators,e)}hasAsyncValidator(e){return Pu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ns,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vo,this.errors=null,this._forEachChild(i=>{i.disable(re(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fo,this._forEachChild(i=>{i.enable(re(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fo||this.status===ns)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vo:Fo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator=!0;let n=jI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?Vo:this.errors?xu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(xu)?xu:Fo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ju(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QP(this._rawAsyncValidators)}},Lu=class extends Vu{constructor(e,n,i){super(qI(n),WI(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JP(this,!0,e),Object.keys(e).forEach(i=>{YP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ig=new P("CallSetDisabledState",{providedIn:"root",factory:()=>rg}),rg="always";function ZP(t,e){return[...e.path,t]}function KI(t,e,n=rg){QI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ek(t,e),nk(t,e),tk(t,e),XP(t,e)}function RI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function XP(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function QI(t,e){let n=zP(t);e.validator!==null?t.setValidators(AI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=qP(t);e.asyncValidator!==null?t.setAsyncValidators(AI(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();RI(e._rawValidators,r),RI(e._rawAsyncValidators,r)}function ek(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&YI(t,e)})}function tk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&YI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function YI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nk(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ik(t,e){t==null,QI(t,e)}function rk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function sk(t){return Object.getPrototypeOf(t.constructor)===LP}function ok(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ak(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Bu?n=s:sk(s)?i=s:r=s}),r||i||n||null}var ck={provide:is,useExisting:Oi(()=>sg)},Lo=Promise.resolve(),sg=(()=>{let e=class e extends is{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ge,this.form=new Lu({},tg(i),ng(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Lo.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),KI(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Lo.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Lo.then(()=>{let r=this._findContainer(i.path),s=new Lu({});ik(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Lo.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Lo.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,ok(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(X(VI,10),X(LI,10),X(ig,8))},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&ht("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[et.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[po([ck]),Dn]});let t=e;return t})();function OI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uk=class extends Vu{constructor(e=null,n,i){super(qI(n),WI(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ju(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lk={provide:Bo,useExisting:Oi(()=>og)},PI=Promise.resolve(),og=(()=>{let e=class e extends Bo{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new uk,this._registered=!1,this.name="",this.update=new ge,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=ak(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),rk(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){PI.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&lu(r);PI.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?ZP(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(X(is,9),X(VI,10),X(LI,10),X(FI,10),X(Yt,8),X(ig,8))},e.\u0275dir=ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[et.None,"disabled","isDisabled"],model:[et.None,"ngModel","model"],options:[et.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[po([lk]),Dn,Pi]});let t=e;return t})(),JI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var dk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({});let t=e;return t})();var ZI=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:ig,useValue:i.callSetDisabledState??rg}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({imports:[dk]});let t=e;return t})();var pk=["*"];var gk=["dialog"];var XI={animation:!0,transitionTimerDelayMs:5},eD=(()=>{let e=class e{constructor(){this.animation=XI.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function tD(t){return typeof t=="string"}function ag(t){return t!=null}function _k(t){return t&&t.then}function lg(t){return(t||document.body).getBoundingClientRect()}function yk(t){return e=>new x(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var vk=()=>{},{transitionTimerDelayMs:wk}=XI,Uu=new Map,ii=(t,e,n,i)=>{let r=i.context||{},s=Uu.get(e);if(s)switch(i.runningTransition){case"continue":return Fe;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Uu.delete(e)}let o=n(e,i.animation,r)||vk;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),N(void 0).pipe(yk(t));let a=new fe,c=new fe,u=a.pipe(Qd(!0));Uu.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let l=mk(e);return t.runOutsideAngular(()=>{let d=It(e,"transitionend").pipe(Ge(u),Ve(({target:f})=>f===e)),h=qd(l+wk).pipe(Ge(u));Wd(h,d,c).pipe(Ge(u)).subscribe(()=>{Uu.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};function Ek(t,e){if(typeof navigator>"u")return"0px";let{classList:n}=t,i=n.contains("show");i||n.add("show"),t.style[e]="";let r=t.getBoundingClientRect()[e]+"px";return i||n.remove("show"),r}var Ik=(t,e,n)=>{let{direction:i,maxSize:r,dimension:s}=n,{classList:o}=t;function a(){o.add("collapse"),i==="show"?o.add("show"):o.remove("show")}if(!e){a();return}return r||(r=Ek(t,s),n.maxSize=r,t.style[s]=i!=="show"?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),lg(t),o.add("collapsing")),t.style[s]=i==="show"?r:"0px",()=>{a(),o.remove("collapsing"),t.style[s]=""}},Dk=(()=>{let e=class e{constructor(){this._ngbConfig=y(eD),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nD=(()=>{let e=class e{constructor(){this._config=y(Dk),this._element=y(dt),this._zone=y(ee),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ge,this.horizontal=this._config.horizontal,this.shown=new ge,this.hidden=new ge}set collapsed(i){this._isCollapsed!==i&&(this._isCollapsed=i,this._afterInit&&this._runTransitionWithEvents(i,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(i=this._isCollapsed){this.collapsed=!i,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(i,r){return ii(this._zone,this._element.nativeElement,Ik,{animation:r,runningTransition:"stop",context:{direction:i?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(i,r){this._runTransition(i,r).subscribe(()=>{i?this.hidden.emit():this.shown.emit()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ze({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,s){r&2&&Jn("collapse-horizontal",s.horizontal)},inputs:{animation:"animation",collapsed:[et.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0});let t=e;return t})();var dg=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(dg||{});var CW=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var bk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function iD(t){let e=Array.from(t.querySelectorAll(bk)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var Tk=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=It(e,"focusin").pipe(Ge(n),L(s=>s.target));It(e,"keydown").pipe(Ge(n),Ve(s=>s.which===dg.Tab),mc(r)).subscribe(([s,o])=>{let[a,c]=iD(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&It(e,"click").pipe(Ge(n),mc(r),L(s=>s[1])).subscribe(s=>s.focus())})};var SW=new Date(1882,10,12),AW=new Date(2174,10,25);var MW=1e3*60*60*24;var hg=1080,Ck=24*hg,Sk=12*hg+793,NW=29*Ck+Sk,RW=11*hg+204;var rD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({});let t=e;return t})();var Ak=(()=>{let e=class e{constructor(){this._ngbConfig=y(eD),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rs=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var Mk=(()=>{let e=class e{constructor(){this._document=y(qe)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nk=(()=>{let e=class e{constructor(){this._nativeElement=y(dt).nativeElement,this._zone=y(ee)}ngOnInit(){this._zone.onStable.asObservable().pipe(at(1)).subscribe(()=>{ii(this._zone,this._nativeElement,(i,r)=>{r&&lg(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ii(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_n({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(su("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),Jn("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[bn],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),$u=class{update(e){}close(e){}dismiss(e){}},Rk=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ok=["animation","backdropClass"],cg=class{_applyWindowOptions(e,n){Rk.forEach(i=>{ag(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){Ok.forEach(i=>{ag(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ge(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ge(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new fe,this._dismissed=new fe,this._hidden=new fe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();_k(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():N(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$s(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},ug=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(ug||{}),xk=(()=>{let e=class e{constructor(){this._document=y(qe),this._elRef=y(dt),this._zone=y(ee),this._closed$=new fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ge,this.shown=new fe,this.hidden=new fe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":tD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(at(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=ii(this._zone,i,()=>i.classList.remove("show"),r),o=ii(this._zone,this._dialogEl.nativeElement,()=>{},r),a=$s(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=ii(this._zone,this._elRef.nativeElement,(o,a)=>{a&&lg(o),o.classList.add("show")},i),s=ii(this._zone,this._dialogEl.nativeElement,()=>{},i);$s(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{It(i,"keydown").pipe(Ge(this._closed$),Ve(s=>s.which===dg.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(ug.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;It(this._dialogEl.nativeElement,"mousedown").pipe(Ge(this._closed$),De(()=>r=!1),ft(()=>It(i,"mouseup").pipe(Ge(this._closed$),at(1))),Ve(({target:s})=>i===s)).subscribe(()=>{r=!0}),It(i,"click").pipe(Ge(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(ug.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=iD(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ii(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_n({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&ou(gk,7),r&2){let o;ho(o=fo())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(uo("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),su("modal d-block"+(s.windowClass?" "+s.windowClass:"")),Jn("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[bn],ngContentSelectors:pk,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(fE(),ue(0,"div",1,0)(2,"div",2),pE(3),de()()),r&2&&su("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),Pk=(()=>{let e=class e{constructor(){this._applicationRef=y(Bi),this._injector=y(lt),this._environmentInjector=y(tt),this._document=y(qe),this._scrollBar=y(Mk),this._activeWindowCmptHasChanged=new fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ge;let i=y(ee);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];Tk(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:ag(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new $u;i=s.injector||i;let c=i.get(tt,null)||this._environmentInjector,u=this._getContentRef(i,c,r,a,s),l=s.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,u.nodes),h=new cg(d,u,l,s.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(at(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=du(Nk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=du(xk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof gn?this._createFromTemplateRef(s,o):tD(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new rs([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new rs([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new rs([[r]])}_createFromComponent(i,r,s,o,a){let c=lt.create({providers:[{provide:$u,useValue:o}],parent:i}),u=du(s,{environmentInjector:r,elementInjector:c}),l=u.location.nativeElement;return a.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new rs([[l]],u.hostView,u)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sD=(()=>{let e=class e{constructor(){this._injector=y(lt),this._modalStack=y(Pk),this._config=y(Ak)}open(i,r={}){let s=I(re(I({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OW=new P("live announcer delay",{providedIn:"root",factory:()=>100});var aD=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Fk=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),i.push(n[l],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new pg;let h=s<<2|a>>4;if(i.push(h),u!==64){let f=a<<4&240|u>>2;if(i.push(f),d!==64){let g=u<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Vk=function(t){let e=aD(t);return cD.encodeByteArray(e,!0)},jo=function(t){return Vk(t).replace(/\./g,"")},mg=function(t){try{return cD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bk=()=>Lk().__FIREBASE_DEFAULTS__,jk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&mg(t[1]);return e&&JSON.parse(e)},Gu=()=>{try{return Bk()||jk()||Uk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uD=t=>{var e,n;return(n=(e=Gu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lD=t=>{let e=uD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_g=()=>{var t;return(t=Gu())===null||t===void 0?void 0:t.config},dD=t=>{var e;return(e=Gu())===null||e===void 0?void 0:e[`_${t}`]};var Hu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function $k(){var t;let e=(t=Gu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mD(){return!$k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yg(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Hk="FirebaseError",Tt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Hk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cn.prototype.create)}},Cn=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Gk(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Tt(r,a,i)}};function Gk(t,e){return t.replace(zk,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var zk=/\{\$([^}]+)}/g;function ss(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(oD(s)&&oD(o)){if(!ss(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function oD(t){return t!==null&&typeof t=="object"}function vg(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yD(t,e){let n=new gg(t,e);return n.subscribe.bind(n)}var gg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=fg),r.error===void 0&&(r.error=fg),r.complete===void 0&&(r.complete=fg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}var PW=4*60*60*1e3;function Ct(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qi="[DEFAULT]";var wg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Hu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Wk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Wk(t){return t===qi?void 0:t}function Kk(t){return t.instantiationMode==="EAGER"}var zu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Qk=[],W=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(W||{}),Yk={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Jk=W.INFO,Zk={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Xk=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=Zk[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ri=class{constructor(e){this.name=e,this._logLevel=Jk,this._logHandler=Xk,this._userLogHandler=null,Qk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var eF=(t,e)=>e.some(n=>t instanceof n),vD,wD;function tF(){return vD||(vD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nF(){return wD||(wD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ED=new WeakMap,Ig=new WeakMap,ID=new WeakMap,Eg=new WeakMap,bg=new WeakMap;function iF(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xt(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ED.set(n,t)}).catch(()=>{}),bg.set(e,t),e}function rF(t){if(Ig.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ig.set(t,e)}var Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DD(t){Dg=t(Dg)}function sF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(qu(this),e,...n);return ID.set(i,e.sort?e.sort():[e]),Xt(i)}:nF().includes(t)?function(...e){return t.apply(qu(this),e),Xt(ED.get(this))}:function(...e){return Xt(t.apply(qu(this),e))}}function oF(t){return typeof t=="function"?sF(t):(t instanceof IDBTransaction&&rF(t),eF(t,tF())?new Proxy(t,Dg):t)}function Xt(t){if(t instanceof IDBRequest)return iF(t);if(Eg.has(t))return Eg.get(t);let e=oF(t);return e!==t&&(Eg.set(t,e),bg.set(e,t)),e}var qu=t=>bg.get(t);function TD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Xt(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Xt(o.result),c.oldVersion,c.newVersion,Xt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var aF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],Tg=new Map;function bD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=cF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||aF.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return Tg.set(e,s),s}DD(t=>re(I({},t),{get:(e,n,i)=>bD(e,n)||t.get(e,n,i),has:(e,n)=>!!bD(e,n)||t.has(e,n)}));var Sg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uF(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function uF(t){let e=t.getComponent();return e?.type==="VERSION"}var Ag="@firebase/app",CD="0.10.2";var Wi=new ri("@firebase/app"),lF="@firebase/app-compat",dF="@firebase/analytics-compat",hF="@firebase/analytics",fF="@firebase/app-check-compat",pF="@firebase/app-check",gF="@firebase/auth",mF="@firebase/auth-compat",_F="@firebase/database",yF="@firebase/database-compat",vF="@firebase/functions",wF="@firebase/functions-compat",EF="@firebase/installations",IF="@firebase/installations-compat",DF="@firebase/messaging",bF="@firebase/messaging-compat",TF="@firebase/performance",CF="@firebase/performance-compat",SF="@firebase/remote-config",AF="@firebase/remote-config-compat",MF="@firebase/storage",NF="@firebase/storage-compat",RF="@firebase/firestore",OF="@firebase/firestore-compat",xF="firebase",PF="10.11.1";var Mg="[DEFAULT]",kF={[Ag]:"fire-core",[lF]:"fire-core-compat",[hF]:"fire-analytics",[dF]:"fire-analytics-compat",[pF]:"fire-app-check",[fF]:"fire-app-check-compat",[gF]:"fire-auth",[mF]:"fire-auth-compat",[_F]:"fire-rtdb",[yF]:"fire-rtdb-compat",[vF]:"fire-fn",[wF]:"fire-fn-compat",[EF]:"fire-iid",[IF]:"fire-iid-compat",[DF]:"fire-fcm",[bF]:"fire-fcm-compat",[TF]:"fire-perf",[CF]:"fire-perf-compat",[SF]:"fire-rc",[AF]:"fire-rc-compat",[MF]:"fire-gcs",[NF]:"fire-gcs-compat",[RF]:"fire-fst",[OF]:"fire-fst-compat","fire-js":"fire-js",[xF]:"fire-js-all"};var Uo=new Map,FF=new Map,Ng=new Map;function SD(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){let e=t.name;if(Ng.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(let n of Uo.values())SD(n,t);for(let n of FF.values())SD(n,t);return!0}function Pg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function os(t){return t.settings!==void 0}var VF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Cn("app","Firebase",VF);var Rg=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var as=PF;function kg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=_g()),!n)throw si.create("no-options");let s=Uo.get(r);if(s){if(ss(n,s.options)&&ss(i,s.config))return s;throw si.create("duplicate-app",{appName:r})}let o=new zu(r);for(let c of Ng.values())o.addComponent(c);let a=new Rg(n,i,o);return Uo.set(r,a),a}function Ho(t=Mg){let e=Uo.get(t);if(!e&&t===Mg&&_g())return kg();if(!e)throw si.create("no-app",{appName:t});return e}function Wu(){return Array.from(Uo.values())}function Re(t,e,n){var i;let r=(i=kF[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(a.join(" "));return}oi(new St(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var LF="firebase-heartbeat-database",BF=1,$o="firebase-heartbeat-store",Cg=null;function RD(){return Cg||(Cg=TD(LF,BF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Cg}function jF(t){return p(this,null,function*(){try{let n=(yield RD()).transaction($o),i=yield n.objectStore($o).get(OD(t));return yield n.done,i}catch(e){if(e instanceof Tt)Wi.warn(e.message);else{let n=si.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}})}function AD(t,e){return p(this,null,function*(){try{let i=(yield RD()).transaction($o,"readwrite");yield i.objectStore($o).put(e,OD(t)),yield i.done}catch(n){if(n instanceof Tt)Wi.warn(n.message);else{let i=si.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(i.message)}}})}function OD(t){return`${t.name}!${t.options.appId}`}var UF=1024,$F=30*24*60*60*1e3,Og=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xg(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=$F}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MD(),{heartbeatsToSend:i,unsentEntries:r}=HF(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function MD(){return new Date().toISOString().substring(0,10)}function HF(t,e=UF){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ND(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ND(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var xg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return yg()?_D().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield jF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return AD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return AD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function ND(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}function GF(t){oi(new St("platform-logger",e=>new Sg(e),"PRIVATE")),oi(new St("heartbeat",e=>new Og(e),"PRIVATE")),Re(Ag,CD,t),Re(Ag,CD,"esm2017"),Re("fire-js","")}GF("");var zF="firebase",qF="10.11.1";Re(zF,qF,"app");var us=new mn("ANGULARFIRE2_VERSION");function Vg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zo=(t,e)=>{let n=e?[e]:Wu(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Go=class{constructor(){return zo(WF)}},WF="app-check";function cs(){}var Ku=class{zone;delegate;constructor(e,n=Ud){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Fg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),n.pipe(De({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ku(Zone.current)),this.insideAngular=n.run(()=>new Ku(Zone.current,Ja)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(H(ee))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function KF(t){return Qu().ngZone.runOutsideAngular(()=>t())}function Ki(t){return Qu().ngZone.run(()=>t())}function QF(t){return YF(Qu())(t)}function YF(t){return function(n){return n=n.lift(new Fg(t.ngZone)),n.pipe(Ln(t.outsideAngular),Vn(t.insideAngular))}}var JF=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ki(()=>t.apply(void 0,i))},ai=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Ki(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs))),i[s]=JF(i[s],n));let r=KF(()=>t.apply(this,i));if(!e)if(r instanceof x){let s=Qu();return r.pipe(Ln(s.outsideAngular),Vn(s.insideAngular))}else return Ki(()=>r);return r instanceof x?r.pipe(QF):r instanceof Promise?Ki(()=>new Promise((s,o)=>r.then(a=>Ki(()=>s(a)),a=>Ki(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ki(()=>r)};var Qi=class{constructor(e){return e}},Wo=class{constructor(){return Wu()}};function ZF(t){return t&&t.length===1?t[0]:new Qi(Ho())}var Lg=new P("angularfire2._apps"),XF={provide:Qi,useFactory:ZF,deps:[[new Vt,Lg]]},eV={provide:Wo,deps:[[new Vt,Lg]]};function tV(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Qi(i)}}var nV=(()=>{class t{constructor(n){Re("angularfire",us.full,"core"),Re("angularfire",us.full,"app"),Re("angular",_E.full,n.toString())}static \u0275fac=function(i){return new(i||t)(H(wn))};static \u0275mod=it({type:t});static \u0275inj=nt({providers:[XF,eV]})}return t})();function xD(t,...e){return{ngModule:nV,providers:[{provide:Lg,useFactory:tV(t),multi:!0,deps:[ee,lt,qo,...e]}]}}var PD=ai(kg,!0);function $D(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HD=$D,GD=new Cn("auth","Firebase",$D());var Xu=new ri("@firebase/auth");function rV(t,...e){Xu.logLevel<=W.WARN&&Xu.warn(`Auth (${as}): ${t}`,...e)}function Ju(t,...e){Xu.logLevel<=W.ERROR&&Xu.error(`Auth (${as}): ${t}`,...e)}function kD(t,...e){throw Yg(t,...e)}function Qg(t,...e){return Yg(t,...e)}function zD(t,e,n){let i=Object.assign(Object.assign({},HD()),{[e]:n});return new Cn("auth","Firebase",i).create(e,{appName:t.name})}function Zu(t){return zD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return GD.create(t,...e)}function te(t,e,...n){if(!t)throw Yg(e,...n)}function Ko(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function el(t,e){t||Ko(e)}function sV(){return FD()==="http:"||FD()==="https:"}function FD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sV()||pD()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,el(n>e,"Short delay should be less than long delay!"),this.isMobile=fD()||gD()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cV(t,e){el(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tl=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lV=new Ji(3e4,6e4);function qD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function sl(s,o,a,c){return p(this,arguments,function*(t,e,n,i,r={}){return WD(t,r,()=>p(this,null,function*(){let u={},l={};i&&(e==="GET"?l=i:u={body:JSON.stringify(i)});let d=vg(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),tl.fetch()(KD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function WD(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},uV),e);try{let r=new Ug(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Yu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Yu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Yu(t,"user-disabled",o);let l=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zD(t,l,u);kD(t,l)}}catch(r){if(r instanceof Tt)throw r;kD(t,"network-request-failed",{message:String(r)})}})}function KD(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?cV(t.config,r):`${t.config.apiScheme}://${r}`}var Ug=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Qg(this.auth,"network-request-failed")),lV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Yu(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Qg(t,e,i);return r.customData._tokenResponse=n,r}function dV(t,e){return p(this,null,function*(){return sl(t,"POST","/v1/accounts:delete",e)})}function QD(t,e){return p(this,null,function*(){return sl(t,"POST","/v1/accounts:lookup",e)})}function Qo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Jg(t,e=!1){return p(this,null,function*(){let n=Ct(t),i=yield n.getIdToken(e),r=YD(i);te(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Qo(Bg(r.auth_time)),issuedAtTime:Qo(Bg(r.iat)),expirationTime:Qo(Bg(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bg(t){return Number(t)*1e3}function YD(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{let r=mg(n);return r?JSON.parse(r):(Ju("Failed to decode base64 JWT payload"),null)}catch(r){return Ju("Caught error parsing JWT payload as JSON",r?.toString()),null}}function VD(t){let e=YD(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $g(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Tt&&hV(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function hV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Hg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nl(t){return p(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield $g(t,QD(n,{idToken:i}));te(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JD(s.providerUserInfo):[],a=fV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Zg(t){return p(this,null,function*(){let e=Ct(t);yield nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fV(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function JD(t){return t.map(e=>{var{providerId:n}=e,i=$d(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function pV(t,e){return p(this,null,function*(){let n=yield WD(t,{},()=>p(this,null,function*(){let i=vg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=KD(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tl.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gV(t,e){return p(this,null,function*(){return sl(t,"POST","/v2/accounts:revokeToken",qD(t,e))})}var Yo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=VD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield pV(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(te(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(te(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ko("not implemented")}};function ci(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zo=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=$d(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield $g(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Jg(this,e)}reload(){return Zg(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield nl(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(os(this.auth.app))return Promise.reject(Zu(this.auth));let e=yield this.getIdToken();return yield $g(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,l;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Q=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:z,emailVerified:le,isAnonymous:ke,providerData:ie,stsTokenManager:He}=n;te(z&&He,e,"internal-error");let Ht=Yo.fromJSON(this.name,He);te(typeof z=="string",e,"internal-error"),ci(d,e.name),ci(h,e.name),te(typeof le=="boolean",e,"internal-error"),te(typeof ke=="boolean",e,"internal-error"),ci(f,e.name),ci(g,e.name),ci(_,e.name),ci(w,e.name),ci(D,e.name),ci(Q,e.name);let gi=new t({uid:z,auth:e,email:h,emailVerified:le,displayName:d,isAnonymous:ke,photoURL:g,phoneNumber:f,tenantId:_,stsTokenManager:Ht,createdAt:D,lastLoginAt:Q});return ie&&Array.isArray(ie)&&(gi.providerData=ie.map(pr=>Object.assign({},pr))),w&&(gi._redirectEventId=w),gi}static _fromIdTokenResponse(e,n,i=!1){return p(this,null,function*(){let r=new Yo;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield nl(s),s})}static _fromGetAccountInfoResponse(e,n,i){return p(this,null,function*(){let r=n.users[0];te(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?JD(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Yo;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Jo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var LD=new Map;function Yi(t){el(t instanceof Function,"Expected a class definition");let e=LD.get(t);return e?(el(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LD.set(t,e),e)}var mV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,i){return p(this,null,function*(){this.storage[n]=i})}_get(n){return p(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Gg=mV;function jg(t,e,n){return`firebase:${t}:${e}:${n}`}var il=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=jg(this.userKey,r.apiKey,s),this.fullPersistenceKey=jg("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return p(this,null,function*(){if(!n.length)return new t(Yi(Gg),e,i);let r=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Yi(Gg),o=jg(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Zo._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function BD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_V(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IV(e))return"Blackberry";if(DV(e))return"Webos";if(yV(e))return"Safari";if((e.includes("chrome/")||vV(e))&&!e.includes("edge/"))return"Chrome";if(EV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _V(t=vt()){return/firefox\//i.test(t)}function yV(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vV(t=vt()){return/crios\//i.test(t)}function wV(t=vt()){return/iemobile/i.test(t)}function EV(t=vt()){return/android/i.test(t)}function IV(t=vt()){return/blackberry/i.test(t)}function DV(t=vt()){return/webos/i.test(t)}function ZD(t,e=[]){let n;switch(t){case"Browser":n=BD(vt());break;case"Worker":n=`${BD(vt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${i}`}var zg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function bV(n){return p(this,arguments,function*(t,e={}){return sl(t,"GET","/v2/passwordPolicy",qD(t,e))})}var TV=6,qg=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Wg=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rl(this),this.idTokenSubscription=new rl(this),this.beforeStateQueue=new zg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield il.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield QD(this,{idToken:e}),i=yield Zo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(os(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield nl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aV()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(os(this.app))return Promise.reject(Zu(this));let n=e?Ct(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return os(this.app)?Promise.reject(Zu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return os(this.app)?Promise.reject(Zu(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Yi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield bV(this),n=new qg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cn("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield gV(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yi(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield il.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&rV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function CV(t){return Ct(t)}var rl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var SV={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AV(t){SV=t}function MV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function NV(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var M6=MV("rcb"),N6=new Ji(3e4,6e4);var R6=new Ji(2e3,1e4);var O6=10*60*1e3;var x6=new Ji(3e4,6e4);var P6=new Ji(5e3,15e3);var k6=encodeURIComponent("fac");var jD="@firebase/auth",UD="1.7.2";var Kg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function RV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OV(t){oi(new St("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZD(t)},u=new Wg(i,r,s,c);return NV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),oi(new St("auth-internal",e=>{let n=CV(e.getProvider("auth").getImmediate());return(i=>new Kg(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(jD,UD,RV(t)),Re(jD,UD,"esm2017")}var xV=5*60,F6=dD("authIdTokenMaxAge")||xV;function PV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AV({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=Qg("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",PV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OV("Browser");var xL="auth";var ol=class{constructor(){return zo(xL)}};var PL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={},E,wm=wm||{},k=PL||self;function wl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ha(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kL(t){return Object.prototype.hasOwnProperty.call(t,Xg)&&t[Xg]||(t[Xg]=++FL)}var Xg="closure_uid_"+(1e9*Math.random()>>>0),FL=0;function VL(t,e,n){return t.call.apply(t.bind,arguments)}function LL(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function We(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?We=VL:We=LL,We.apply(null,arguments)}function al(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function ui(){this.s=this.s,this.o=this.o}var BL=0;ui.prototype.s=!1;ui.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BL!=0)&&kL(this)};ui.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var db=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Em(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function XD(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(wl(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Ke(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var jL=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function ra(t){return/^[\s\xa0]*$/.test(t)}function El(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function en(t){return El().indexOf(t)!=-1}function Im(t){return Im[" "](t),t}Im[" "]=function(){};function UL(t,e){var n=M2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $L=en("Opera"),fs=en("Trident")||en("MSIE"),hb=en("Edge"),rm=hb||fs,fb=en("Gecko")&&!(El().toLowerCase().indexOf("webkit")!=-1&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),HL=El().toLowerCase().indexOf("webkit")!=-1&&!en("Edge");function pb(){var t=k.document;return t?t.documentMode:void 0}var sm;e:{if(cl="",ul=function(){var t=El();if(fb)return/rv:([^\);]+)(\)|;)/.exec(t);if(hb)return/Edge\/([\d\.]+)/.exec(t);if(fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HL)return/WebKit\/(\S+)/.exec(t);if($L)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ul&&(cl=ul?ul[1]:""),fs&&(ll=pb(),ll!=null&&ll>parseFloat(cl))){sm=String(ll);break e}sm=cl}var cl,ul,ll,om;k.document&&fs?(em=pb(),om=em||parseInt(sm,10)||void 0):om=void 0;var em,GL=om;function sa(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fb){e:{try{Im(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sa.$.h.call(this)}}xe(sa,Ke);var zL={2:"touch",3:"pen",4:"mouse"};sa.prototype.h=function(){sa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),qL=0;function WL(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++qL,this.fa=this.ia=!1}function Il(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Dm(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function KL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function gb(t){let e={};for(let n in t)e[n]=t[n];return e}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mb(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<eb.length;s++)n=eb[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Dl(t){this.src=t,this.g={},this.h=0}Dl.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=cm(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new WL(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function am(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=db(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Il(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cm(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var bm="closure_lm_"+(1e6*Math.random()|0),tm={};function _b(t,e,n,i,r){if(i&&i.once)return vb(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_b(t,e[s],n,i,r);return null}return n=Sm(n),t&&t[fa]?t.O(e,n,ha(i)?!!i.capture:!!i,r):yb(t,e,n,!1,i,r)}function yb(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=ha(r)?!!r.capture:!!r,a=Cm(t);if(a||(t[bm]=a=new Dl(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=QL(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)jL||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Eb(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QL(){function t(n){return e.call(t.src,t.listener,n)}let e=YL;return t}function vb(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vb(t,e[s],n,i,r);return null}return n=Sm(n),t&&t[fa]?t.P(e,n,ha(i)?!!i.capture:!!i,r):yb(t,e,n,!0,i,r)}function wb(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)wb(t,e[s],n,i,r);else i=ha(i)?!!i.capture:!!i,n=Sm(n),t&&t[fa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cm(s,n,i,r),-1<n&&(Il(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cm(e,n,i,r)),(n=-1<t?e[t]:null)&&Tm(n))}function Tm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fa])am(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Eb(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Cm(e))?(am(n,t),n.h==0&&(n.src=null,e[bm]=null)):Il(t)}}}function Eb(t){return t in tm?tm[t]:tm[t]="on"+t}function YL(t,e){if(t.fa)t=!0;else{e=new sa(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Tm(t),t=n.call(i,e)}return t}function Cm(t){return t=t[bm],t instanceof Dl?t:null}var nm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(t){return typeof t=="function"?t:(t[nm]||(t[nm]=function(e){return t.handleEvent(e)}),t[nm])}function Oe(){ui.call(this),this.i=new Dl(this),this.S=this,this.J=null}xe(Oe,ui);Oe.prototype[fa]=!0;Oe.prototype.removeEventListener=function(t,e,n,i){wb(this,t,e,n,i)};function Ue(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ke(e,t);else if(e instanceof Ke)e.target=e.target||t;else{var r=e;e=new Ke(i,t),mb(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=dl(o,i,!0,e)&&r}if(o=e.g=t,r=dl(o,i,!0,e)&&r,r=dl(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=dl(o,i,!1,e)&&r}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Il(n[i]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Oe.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function dl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&am(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var Am=k.JSON.stringify,um=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function JL(){var t=Mm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lm=class{constructor(){this.h=this.g=null}add(e,n){let i=Ib.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},Ib=new um(()=>new dm,t=>t.reset()),dm=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function ZL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function XL(t){k.setTimeout(()=>{throw t},0)}var oa,aa=!1,Mm=new lm,Db=()=>{let t=k.Promise.resolve(void 0);oa=()=>{t.then(e2)}},e2=()=>{for(var t;t=JL();){try{t.h.call(t.g)}catch(n){XL(n)}var e=Ib;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}aa=!1};function bl(t,e){Oe.call(this),this.h=t||1,this.g=e||k,this.j=We(this.qb,this),this.l=Date.now()}xe(bl,Oe);E=bl.prototype;E.ga=!1;E.T=null;E.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ue(this,"tick"),this.ga&&(Nm(this),this.start()))}};E.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}E.N=function(){bl.$.N.call(this),Nm(this),delete this.g};function Rm(t,e,n){if(typeof t=="function")n&&(t=We(t,n));else if(t&&typeof t.handleEvent=="function")t=We(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function bb(t){t.g=Rm(()=>{t.g=null,t.i&&(t.i=!1,bb(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var hm=class extends ui{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bb(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ca(t){ui.call(this),this.h=t,this.g={}}xe(ca,ui);var tb=[];function Tb(t,e,n,i){Array.isArray(n)||(n&&(tb[0]=n.toString()),n=tb);for(var r=0;r<n.length;r++){var s=_b(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Cb(t){Dm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tm(e)},t),t.g={}}ca.prototype.N=function(){ca.$.N.call(this),Cb(this)};ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tl(){this.g=!0}Tl.prototype.Ea=function(){this.g=!1};function t2(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function n2(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function ds(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+r2(t,n)+(i?" "+i:"")})}function i2(t,e){t.info(function(){return"TIMEOUT: "+e})}Tl.prototype.info=function(){};function r2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Am(n)}catch{return e}}var tr={},nb=null;function Cl(){return nb=nb||new Oe}tr.Ta="serverreachability";function Sb(t){Ke.call(this,tr.Ta,t)}xe(Sb,Ke);function ua(t){let e=Cl();Ue(e,new Sb(e))}tr.STAT_EVENT="statevent";function Ab(t,e){Ke.call(this,tr.STAT_EVENT,t),this.stat=e}xe(Ab,Ke);function rt(t){let e=Cl();Ue(e,new Ab(e,t))}tr.Ua="timingevent";function Mb(t,e){Ke.call(this,tr.Ua,t),this.size=e}xe(Mb,Ke);function pa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Sl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Om(){}Om.prototype.h=null;function ib(t){return t.h||(t.h=t.i())}function Rb(){}var ga={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xm(){Ke.call(this,"d")}xe(xm,Ke);function Pm(){Ke.call(this,"c")}xe(Pm,Ke);var fm;function Al(){}xe(Al,Om);Al.prototype.g=function(){return new XMLHttpRequest};Al.prototype.i=function(){return{}};fm=new Al;function ma(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ca(this),this.P=s2,t=rm?125:void 0,this.V=new bl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ob}function Ob(){this.i=null,this.g="",this.h=!1}var s2=45e3,xb={},pm={};E=ma.prototype;E.setTimeout=function(t){this.P=t};function gm(t,e,n){t.L=1,t.A=Nl(An(e)),t.u=n,t.S=!0,Pb(t,null)}function Pb(t,e){t.G=Date.now(),_a(t),t.B=An(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),$b(n.i,"t",i),t.o=0,n=t.l.J,t.h=new Ob,t.g=uT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hm(We(t.Pa,t,t.g),t.O)),Tb(t.U,t.g,"readystatechange",t.nb),e=t.I?gb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ua(),t2(t.j,t.v,t.B,t.m,t.W,t.u)}E.nb=function(t){t=t.target;let e=this.M;e&&tn(t)==3?e.l():this.Pa(t)};E.Pa=function(t){try{if(t==this.g)e:{let l=tn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||rm||this.g&&(this.h.h||this.g.ja()||ab(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ua(3):ua(2)),Ml(this);var n=this.g.da();this.ca=n;t:if(kb(this)){var i=ab(this.g);t="";var r=i.length,s=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),ia(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,n2(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ra(a)){var u=a;break t}}u=null}if(n=u)ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mm(this,n);else{this.i=!1,this.s=3,rt(12),Zi(this),ia(this);break e}}this.S?(Fb(this,l,o),rm&&this.i&&l==3&&(Tb(this.U,this.V,"tick",this.mb),this.V.start())):(ds(this.j,this.m,o,null),mm(this,o)),l==4&&Zi(this),this.i&&!this.J&&(l==4?sT(this.l,this):(this.i=!1,_a(this)))}else C2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Zi(this),ia(this)}}}catch{}finally{}};function kb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Fb(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=o2(t,n),r==pm){e==4&&(t.s=4,rt(14),i=!1),ds(t.j,t.m,null,"[Incomplete Response]");break}else if(r==xb){t.s=4,rt(15),ds(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ds(t.j,t.m,r,null),mm(t,r);kb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,rt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jm(e),e.M=!0,rt(11))):(ds(t.j,t.m,n,"[Invalid Chunked Response]"),Zi(t),ia(t))}E.mb=function(){if(this.g){var t=tn(this.g),e=this.g.ja();this.o<e.length&&(Ml(this),Fb(this,t,e),this.i&&t!=4&&_a(this))}};function o2(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?pm:(n=Number(e.substring(n,i)),isNaN(n)?xb:(i+=1,i+n>e.length?pm:(e=e.slice(i,i+n),t.o=i+n,e)))}E.cancel=function(){this.J=!0,Zi(this)};function _a(t){t.Y=Date.now()+t.P,Vb(t,t.P)}function Vb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=pa(We(t.lb,t),e)}function Ml(t){t.C&&(k.clearTimeout(t.C),t.C=null)}E.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(i2(this.j,this.B),this.L!=2&&(ua(),rt(17)),Zi(this),this.s=2,ia(this)):Vb(this,this.Y-t)};function ia(t){t.l.H==0||t.J||sT(t.l,t)}function Zi(t){Ml(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nm(t.V),Cb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||_m(n.i,t))){if(!t.K&&_m(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ml(n),xl(n);else break e;Bm(n),rt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=pa(We(n.ib,n),6e3));if(1>=zb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xi(n,11)}else if((t.K||n.g==t)&&ml(n),!ra(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(km(s,s.h),s.h=null))}if(i.F){let _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,pe(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=cT(i,i.J?i.pa:null,i.Y),o.K){qb(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(Ml(a),_a(a)),i.g=o}else iT(i);0<n.j.length&&Pl(n)}else u[0]!="stop"&&u[0]!="close"||Xi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xi(n,7):Lm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ua(4)}catch{}}function a2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wl(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function c2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function Lb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=c2(t),i=a2(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var Bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function er(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof er){this.h=t.h,pl(this,t.j),this.s=t.s,this.g=t.g,gl(this,t.m),this.l=t.l;var e=t.i,n=new la;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rb(this,n),this.o=t.o}else t&&(e=String(t).match(Bb))?(this.h=!1,pl(this,e[1]||"",!0),this.s=ta(e[2]||""),this.g=ta(e[3]||"",!0),gl(this,e[4]),this.l=ta(e[5]||"",!0),rb(this,e[6]||"",!0),this.o=ta(e[7]||"")):(this.h=!1,this.i=new la(null,this.h))}er.prototype.toString=function(){var t=[],e=this.j;e&&t.push(na(e,sb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(na(e,sb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(na(n,n.charAt(0)=="/"?h2:d2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",na(n,p2)),t.join("")};function An(t){return new er(t)}function pl(t,e,n){t.j=n?ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rb(t,e,n){e instanceof la?(t.i=e,g2(t.i,t.h)):(n||(e=na(e,f2)),t.i=new la(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function Nl(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function na(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,l2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function l2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sb=/[#\/\?@]/g,d2=/[#\?:]/g,h2=/[#\?]/g,f2=/[#\?@]/g,p2=/#/g;function la(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&u2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}E=la.prototype;E.add=function(t,e){li(this),this.i=null,t=ps(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jb(t,e){li(t),e=ps(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ub(t,e){return li(t),e=ps(t,e),t.g.has(e)}E.forEach=function(t,e){li(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};E.ta=function(){li(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};E.Z=function(t){li(this);let e=[];if(typeof t=="string")Ub(this,t)&&(e=e.concat(this.g.get(ps(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};E.set=function(t,e){return li(this),this.i=null,t=ps(this,t),Ub(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};E.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $b(t,e,n){jb(t,e),0<n.length&&(t.i=null,t.g.set(ps(t,e),Em(n)),t.h+=n.length)}E.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function ps(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function g2(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(jb(this,i),$b(this,r,n))},t)),t.j=e}var m2=class{constructor(t,e){this.g=t,this.map=e}};function Hb(t){this.l=t||_2,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _2=10;function Gb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zb(t){return t.h?1:t.g?t.g.size:0}function _m(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function km(t,e){t.g?t.g.add(e):t.h=e}function qb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Hb.prototype.cancel=function(){if(this.i=Wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Wb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Em(t.i)}var y2=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function v2(){this.g=new y2}function w2(t,e,n){let i=n||"";try{Lb(t,function(r,s){let o=r;ha(r)&&(o=Am(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function E2(t,e){let n=new Tl;if(k.Image){let i=new Image;i.onload=al(hl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=al(hl,n,i,"TestLoadImage: error",!1,e),i.onabort=al(hl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=al(hl,n,i,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function hl(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ya(t){this.l=t.ec||null,this.j=t.ob||!1}xe(ya,Om);ya.prototype.g=function(){return new Rl(this.l,this.j)};ya.prototype.i=function(t){return function(){return t}}({});function Rl(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(Rl,Oe);var Fm=0;E=Rl.prototype;E.open=function(t,e){if(this.readyState!=Fm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,da(this)};E.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=Fm};E.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Kb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}E.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?va(this):da(this),this.readyState==3&&Kb(this)}};E.Za=function(t){this.g&&(this.response=this.responseText=t,va(this))};E.Ya=function(t){this.g&&(this.response=t,va(this))};E.ka=function(){this.g&&va(this)};function va(t){t.readyState=4,t.l=null,t.j=null,t.A=null,da(t)}E.setRequestHeader=function(t,e){this.v.append(t,e)};E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};E.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function da(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var I2=k.JSON.parse;function ye(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qb,this.L=this.M=!1}xe(ye,Oe);var Qb="",D2=/^https?$/i,b2=["POST","PUT"];E=ye.prototype;E.Oa=function(t){this.M=t};E.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fm.g(),this.C=this.u?ib(this.u):ib(fm),this.g.onreadystatechange=We(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ob(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=k.FormData&&t instanceof k.FormData,!(0<=db(b2,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zb(this),0<this.B&&((this.L=T2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.ua,this)):this.A=Rm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ob(this,s)}};function T2(t){return fs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}E.ua=function(){typeof wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ue(this,"timeout"),this.abort(8))};function ob(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yb(t),Ol(t)}function Yb(t){t.F||(t.F=!0,Ue(t,"complete"),Ue(t,"error"))}E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ue(this,"complete"),Ue(this,"abort"),Ol(this))};E.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ol(this,!0)),ye.$.N.call(this)};E.La=function(){this.s||(this.G||this.v||this.l?Jb(this):this.kb())};E.kb=function(){Jb(this)};function Jb(t){if(t.h&&typeof wm<"u"&&(!t.C[1]||tn(t)!=4||t.da()!=2)){if(t.v&&tn(t)==4)Rm(t.La,0,t);else if(Ue(t,"readystatechange"),tn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(Bb)[1]||null;!r&&k.self&&k.self.location&&(r=k.self.location.protocol.slice(0,-1)),i=!D2.test(r?r.toLowerCase():"")}n=i}if(n)Ue(t,"complete"),Ue(t,"success");else{t.m=6;try{var s=2<tn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Yb(t)}}finally{Ol(t)}}}}function Ol(t,e){if(t.g){Zb(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ue(t,"ready");try{n.onreadystatechange=i}catch{}}}function Zb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}E.isActive=function(){return!!this.g};function tn(t){return t.g?t.g.readyState:0}E.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}};E.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};E.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),I2(e)}};function ab(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Qb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C2(t){let e={};t=(t.g&&2<=tn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(ra(t[i]))continue;var n=ZL(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}KL(e,function(i){return i.join(", ")})}E.Ia=function(){return this.m};E.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xb(t){let e="";return Dm(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Vm(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Xb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function Xo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eT(t){this.Ga=0,this.j=[],this.l=new Tl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xo("baseRetryDelayMs",5e3,t),this.hb=Xo("retryDelaySeedMs",1e4,t),this.eb=Xo("forwardChannelMaxRetries",2,t),this.xa=Xo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Hb(t&&t.concurrentRequestLimit),this.Ja=new v2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}E=eT.prototype;E.ra=8;E.H=1;function Lm(t){if(tT(t),t.H==3){var e=t.W++,n=An(t.I);if(pe(n,"SID",t.K),pe(n,"RID",e),pe(n,"TYPE","terminate"),wa(t,n),e=new ma(t,t.l,e),e.L=2,e.A=Nl(An(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=uT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),_a(e)}aT(t)}function xl(t){t.g&&(jm(t),t.g.cancel(),t.g=null)}function tT(t){xl(t),t.u&&(k.clearTimeout(t.u),t.u=null),ml(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Pl(t){if(!Gb(t.i)&&!t.m){t.m=!0;var e=t.Na;oa||Db(),aa||(oa(),aa=!0),Mm.add(e,t),t.C=0}}function S2(t,e){return zb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pa(We(t.Na,t,e),oT(t,t.C)),t.C++,!0)}E.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new ma(this,this.l,t),s=this.s;if(this.U&&(s?(s=gb(s),mb(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nT(this,r,e),n=An(this.I),pe(n,"RID",t),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),wa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Xb(s)))+"&"+e:this.o&&Vm(n,this.o,s)),km(this.i,r),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",e),pe(n,"SID","null"),r.aa=!0,gm(r,n,null)):gm(r,n,e),this.H=2}}else this.H==3&&(t?cb(this,t):this.j.length==0||Gb(this.i)||cb(this))};function cb(t,e){var n;e?n=e.m:n=t.W++;let i=An(t.I);pe(i,"SID",t.K),pe(i,"RID",n),pe(i,"AID",t.V),wa(t,i),t.o&&t.s&&Vm(i,t.o,t.s),n=new ma(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),km(t.i,n),gm(n,i,e)}function wa(t,e){t.na&&Dm(t.na,function(n,i){pe(e,i,n)}),t.h&&Lb({},function(n,i){pe(e,i,n)})}function nT(t,e,n){n=Math.min(t.j.length,n);var i=t.h?We(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=r[c].g,l=r[c].map;if(u-=s,0>u)s=Math.max(0,r[c].g-100),a=!1;else try{w2(l,o,"req"+u+"_")}catch{i&&i(l)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function iT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;oa||Db(),aa||(oa(),aa=!0),Mm.add(e,t),t.A=0}}function Bm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pa(We(t.Ma,t),oT(t,t.A)),t.A++,!0)}E.Ma=function(){if(this.u=null,rT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pa(We(this.jb,this),t)}};E.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rt(10),xl(this),rT(this))};function jm(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function rT(t){t.g=new ma(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);pe(e,"RID","rpc"),pe(e,"SID",t.K),pe(e,"AID",t.V),pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pe(e,"TO",t.qa),pe(e,"TYPE","xmlhttp"),wa(t,e),t.o&&t.s&&Vm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Nl(An(e)),n.u=null,n.S=!0,Pb(n,t)}E.ib=function(){this.v!=null&&(this.v=null,xl(this),Bm(this),rt(19))};function ml(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function sT(t,e){var n=null;if(t.g==e){ml(t),jm(t),t.g=null;var i=2}else if(_m(t.i,e))n=e.F,qb(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Cl(),Ue(i,new Mb(i,n)),Pl(t)}else iT(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&S2(t,e)||i==2&&Bm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Xi(t,5);break;case 4:Xi(t,10);break;case 3:Xi(t,6);break;default:Xi(t,2)}}}function oT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=We(t.pb,t);n||(n=new er("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||pl(n,"https"),Nl(n)),E2(n.toString(),i)}else rt(2);t.H=0,t.h&&t.h.za(e),aT(t),tT(t)}E.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rt(2)):(this.l.info("Failed to ping google.com"),rt(1))};function aT(t){if(t.H=0,t.ma=[],t.h){let e=Wb(t.i);(e.length!=0||t.j.length!=0)&&(XD(t.ma,e),XD(t.ma,t.j),t.i.i.length=0,Em(t.j),t.j.length=0),t.h.ya()}}function cT(t,e,n){var i=n instanceof er?An(n):new er(n);if(i.g!="")e&&(i.g=e+"."+i.g),gl(i,i.m);else{var r=k.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new er(null);i&&pl(s,i),e&&(s.g=e),r&&gl(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&pe(i,n,e),pe(i,"VER",t.ra),wa(t,i),i}function uT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new ya({ob:n})):new ye(t.va),e.Oa(t.J),e}E.isActive=function(){return!!this.h&&this.h.isActive(this)};function lT(){}E=lT.prototype;E.Ba=function(){};E.Aa=function(){};E.za=function(){};E.ya=function(){};E.isActive=function(){return!0};E.Va=function(){};function _l(){if(fs&&!(10<=Number(GL)))throw Error("Environmental error: no available transport.")}_l.prototype.g=function(t,e){return new wt(t,e)};function wt(t,e){Oe.call(this),this.g=new eT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gs(this)}xe(wt,Oe);wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cT(t,null,t.Y),Pl(t)};wt.prototype.close=function(){Lm(this.g)};wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Am(t),t=n);e.j.push(new m2(e.fb++,t)),e.H==3&&Pl(e)};wt.prototype.N=function(){this.g.h=null,delete this.j,Lm(this.g),delete this.g,wt.$.N.call(this)};function dT(t){xm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xe(dT,xm);function hT(){Pm.call(this),this.status=1}xe(hT,Pm);function gs(t){this.g=t}xe(gs,lT);gs.prototype.Ba=function(){Ue(this.g,"a")};gs.prototype.Aa=function(t){Ue(this.g,new dT(t))};gs.prototype.za=function(t){Ue(this.g,new hT)};gs.prototype.ya=function(){Ue(this.g,"b")};function A2(){this.blockSize=-1}function Bt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xe(Bt,A2);Bt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function im(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Bt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)im(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){im(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){im(this,i),r=0;break}}this.h=r,this.i+=e};Bt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function ae(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var M2={};function Um(t){return-128<=t&&128>t?UL(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function nn(t){if(isNaN(t)||!isFinite(t))return hs;if(0>t)return je(nn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ym;return new ae(e,0)}function fT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return je(fT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nn(Math.pow(e,8)),i=hs,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=nn(Math.pow(e,s)),i=i.R(s).add(nn(o))):(i=i.R(n),i=i.add(nn(o)))}return i}var ym=4294967296,hs=Um(0),vm=Um(1),ub=Um(16777216);E=ae.prototype;E.ea=function(){if(At(this))return-je(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ym+i)*e,e*=ym}return t};E.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(At(this))return"-"+je(this).toString(t);for(var e=nn(Math.pow(t,6)),n=this,i="";;){var r=vl(n,e).g;n=yl(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Sn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};E.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}E.X=function(t){return t=yl(this,t),At(t)?-1:Sn(t)?0:1};function je(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new ae(n,~t.h).add(vm)}E.abs=function(){return At(this)?je(this):this};E.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function yl(t,e){return t.add(je(e))}E.R=function(t){if(Sn(this)||Sn(t))return hs;if(At(this))return At(t)?je(this).R(je(t)):je(je(this).R(t));if(At(t))return je(this.R(je(t)));if(0>this.X(ub)&&0>t.X(ub))return nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,fl(n,2*i+2*r),n[2*i+2*r+1]+=s*c,fl(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,fl(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,fl(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new ae(n,0)};function fl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ea(t,e){this.g=t,this.h=e}function vl(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new ea(hs,hs);if(At(t))return e=vl(je(t),e),new ea(je(e.g),je(e.h));if(At(e))return e=vl(t,je(e)),new ea(je(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vm,i=e;0>=i.X(t);)n=lb(n),i=lb(i);var r=ls(n,1),s=ls(i,1);for(i=ls(i,2),n=ls(n,2);!Sn(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=ls(i,1),n=ls(n,1)}return e=yl(t,r.R(e)),new ea(r,e)}for(r=hs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=nn(n),o=s.R(e);At(o)||0<o.X(t);)n-=i,s=nn(n),o=s.R(e);Sn(s)&&(s=vm),r=r.add(s),t=yl(t,o)}return new ea(r,t)}E.gb=function(t){return vl(this,t).h};E.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new ae(n,this.h&t.h)};E.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new ae(n,this.h|t.h)};E.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new ae(n,this.h^t.h)};function lb(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new ae(n,t.h)}function ls(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(r,t.h)}_l.prototype.createWebChannel=_l.prototype.g;wt.prototype.send=wt.prototype.u;wt.prototype.open=wt.prototype.m;wt.prototype.close=wt.prototype.close;Sl.NO_ERROR=0;Sl.TIMEOUT=8;Sl.HTTP_ERROR=6;Nb.COMPLETE="complete";Rb.EventType=ga;ga.OPEN="a";ga.CLOSE="b";ga.ERROR="c";ga.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;Bt.prototype.digest=Bt.prototype.l;Bt.prototype.reset=Bt.prototype.reset;Bt.prototype.update=Bt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=nn;ae.fromString=fT;var pT=jt.createWebChannelTransport=function(){return new _l},gT=jt.getStatEventTarget=function(){return Cl()},kl=jt.ErrorCode=Sl,mT=jt.EventType=Nb,_T=jt.Event=tr,$m=jt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yT=jt.FetchXmlHttpFactory=ya,Ea=jt.WebChannel=Rb,vT=jt.XhrIo=ye,wT=jt.Md5=Bt,nr=jt.Integer=ae;var ET="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var Fs="10.11.1";var ar=new ri("@firebase/firestore");function Ia(){return ar.logLevel}function b(t,...e){if(ar.logLevel<=W.DEBUG){let n=e.map(by);ar.debug(`Firestore (${Fs}): ${t}`,...n)}}function Nn(t,...e){if(ar.logLevel<=W.ERROR){let n=e.map(by);ar.error(`Firestore (${Fs}): ${t}`,...n)}}function Is(t,...e){if(ar.logLevel<=W.WARN){let n=e.map(by);ar.warn(`Firestore (${Fs}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+t;throw Nn(e),new Error(e)}function he(t,e){t||O()}function V(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Km=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Qm=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(he(typeof i.accessToken=="string"),new jl(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new Pe(e)}},Ym=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jm=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ym(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new Zm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function N2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Ul=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=N2(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function ne(t,e){return t<e?-1:t>e?1:0}function Ds(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var $e=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $l=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&O(),i===void 0?i=e.length-n:i>e.length-n&&O(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},we=class t extends $l{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new T(m.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends $l{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return R2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new T(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new T(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(we.fromString(e))}static fromName(e){return new t(we.fromString(e).popFirst(5))}static empty(){return new t(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new we(e.slice()))}};var e_=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};e_.UNKNOWN_ID=-1;function O2(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=B.fromTimestamp(i===1e9?new $e(n+1,0):new $e(n,i));return new cr(r,M.empty(),e)}function x2(t){return new cr(t.readTime,t.key,-1)}var cr=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(B.min(),M.empty(),-1)}static max(){return new t(B.max(),M.empty(),-1)}};function P2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}var k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ba(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==k2)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var v=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&i(o)},l=>r(l))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function F2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(t){return t.name==="IndexedDbTransactionError"}var JT=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _d(t){return t==null}function Ma(t){return t===0&&1/t==-1/0}function V2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ma(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var L2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k8=[...L2,"documentOverlays"],B2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],j2=B2,F8=[...j2,"indexConfiguration","indexState","indexEntries"];function IT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ee=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vs(this.root,e,this.comparator,!0)}},vs=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,i,r,s){return this}insert(e,n,i){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hl(this.data.getIterator())}getIteratorFrom(e){return new Hl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Et.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rn(t){if(he(!!t),typeof t=="string"){let e=0,n=U2.exec(t);if(he(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function Ty(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cy(t){let e=t.mapValue.fields.__previous_value__;return Ty(e)?Cy(e):e}function Na(t){let e=Rn(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var n_=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},zl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:XT(t)?9007199254740991:10:O()}function un(t,e){if(t===e)return!0;let n=ur(t);if(n!==ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Na(t).isEqual(Na(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Rn(r.timestampValue),a=Rn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return hi(r.bytesValue).isEqual(hi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ve(r.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(r.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ve(r.integerValue)===ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ve(r.doubleValue),a=ve(s.doubleValue);return o===a?Ma(o)===Ma(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ds(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(IT(o)!==IT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!un(o[c],a[c])))return!1;return!0}(t,e);default:return O()}}function Ra(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function bs(t,e){if(t===e)return 0;let n=ur(t),i=ur(e);if(n!==i)return ne(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(Na(t),Na(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){let a=hi(s),c=hi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ne(a[u],c[u]);if(l!==0)return l}return ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ne(ve(s.latitude),ve(o.latitude));return a!==0?a:ne(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=bs(a[u],c[u]);if(l)return l}return ne(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Fl.mapValue&&o===Fl.mapValue)return 0;if(s===Fl.mapValue)return 1;if(o===Fl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ne(c[d],l[d]);if(h!==0)return h;let f=bs(a[c[d]],u[l[d]]);if(f!==0)return f}return ne(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);let n=Rn(t),i=Rn(e),r=ne(n.seconds,i.seconds);return r!==0?r:ne(n.nanos,i.nanos)}function Ts(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Rn(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=i_(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${i_(n.fields[o])}`;return r+"}"}(t.mapValue):O()}function r_(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function bT(t){return!!t&&"nullValue"in t}function TT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ba(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(n)}setAll(e){let n=Et.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ba(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ll(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Vs(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(ba(this.value))}};function e1(t){let e=[];return Vs(t.fields,(n,i)=>{let r=new Et([n]);if(Ll(i)){let s=e1(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new sn(e)}var $t=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),Ut.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,B.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,n){this.position=e,this.inclusive=n}};function CT(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=M.comparator(M.fromName(o.referenceValue),n.key):i=bs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ST(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}var Ss=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ql=class{},Ae=class t extends ql{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new o_(e,n,i):n==="array-contains"?new u_(e,i):n==="in"?new l_(e,i):n==="not-in"?new d_(e,i):n==="array-contains-any"?new h_(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new a_(e,i):new c_(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bs(n,this.value)):n!==null&&ur(this.value)===ur(n)&&this.matchesComparison(bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class t extends ql{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return t1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function t1(t){return t.op==="and"}function n1(t){return H2(t)&&t1(t)}function H2(t){for(let e of t.filters)if(e instanceof ln)return!1;return!0}function s_(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Ts(t.value);if(n1(t))return t.filters.map(e=>s_(e)).join(",");{let e=t.filters.map(n=>s_(n)).join(",");return`${t.op}(${e})`}}function i1(t,e){return t instanceof Ae?function(i,r){return r instanceof Ae&&i.op===r.op&&i.field.isEqual(r.field)&&un(i.value,r.value)}(t,e):t instanceof ln?function(i,r){return r instanceof ln&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&i1(o,r.filters[a]),!0):!1}(t,e):void O()}function r1(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${Ts(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(r1).join(" ,")+"}"}(t):"Filter"}var o_=class extends Ae{constructor(e,n,i){super(e,n,i),this.key=M.fromName(i.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},a_=class extends Ae{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},c_=class extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function s1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>M.fromName(i.referenceValue))}var u_=class extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Sy(n)&&Ra(n.arrayValue,this.value)}},l_=class extends Ae{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}},d_=class extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}},h_=class extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ra(this.value.arrayValue,i))}};var f_=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function AT(t,e=null,n=[],i=[],r=null,s=null,o=null){return new f_(t,e,n,i,r,s,o)}function Ay(t){let e=V(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>s_(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ts(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ts(i)).join(",")),e.ue=n}return e.ue}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ST(t.startAt,e.startAt)&&ST(t.endAt,e.endAt)}function p_(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var As=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function G2(t,e,n,i,r,s,o,a){return new As(t,e,n,i,r,s,o,a)}function Ny(t){return new As(t)}function MT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z2(t){return t.collectionGroup!==null}function Ta(t){let e=V(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Et.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ss(s,i))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Ss(Et.keyField(),i))}return e.ce}function an(t){let e=V(t);return e.le||(e.le=q2(e,Ta(t))),e.le}function q2(t,e){if(t.limitType==="F")return AT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Ss(r.field,s)});let n=t.endAt?new Cs(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cs(t.startAt.position,t.startAt.inclusive):null;return AT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function g_(t,e,n){return new As(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return My(an(t),an(e))&&t.limitType===e.limitType}function o1(t){return`${Ay(an(t))}|lt:${t.limitType}`}function ms(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>r1(r)).join(", ")}]`),_d(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ts(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ts(r)).join(",")),`Target(${i})`}(an(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):M.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Ta(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=CT(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,Ta(i),r)||i.endAt&&!function(o,a,c){let u=CT(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,Ta(i),r))}(t,e)}function W2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a1(t){return(e,n)=>{let i=!1;for(let r of Ta(t)){let s=K2(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function K2(t,e,n){let i=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?bs(c,u):O()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return O()}}var fi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}};var Q2=new Ee(M.comparator);function On(){return Q2}var c1=new Ee(M.comparator);function Da(...t){let e=c1;for(let n of t)e=e.insert(n.key,n);return e}function u1(t){let e=c1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ir(){return Ca()}function l1(){return Ca()}function Ca(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}var Y2=new Ee(M.comparator),J2=new Ye(M.comparator);function K(...t){let e=J2;for(let n of t)e=e.add(n);return e}var Z2=new Ye(ne);function X2(){return Z2}function d1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(e)?"-0":e}}function h1(t){return{integerValue:""+t}}function eB(t,e){return V2(e)?h1(e):d1(t,e)}var Ms=class{constructor(){this._=void 0}};function tB(t,e,n){return t instanceof Ns?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ty(s)&&(s=Cy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lr?p1(t,e):t instanceof dr?g1(t,e):function(r,s){let o=f1(r,s),a=NT(o)+NT(r.Pe);return r_(o)&&r_(r.Pe)?h1(a):d1(r.serializer,a)}(t,e)}function nB(t,e,n){return t instanceof lr?p1(t,e):t instanceof dr?g1(t,e):n}function f1(t,e){return t instanceof Rs?function(i){return r_(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Ns=class extends Ms{},lr=class extends Ms{constructor(e){super(),this.elements=e}};function p1(t,e){let n=m1(e);for(let i of t.elements)n.some(r=>un(r,i))||n.push(i);return{arrayValue:{values:n}}}var dr=class extends Ms{constructor(e){super(),this.elements=e}};function g1(t,e){let n=m1(e);for(let i of t.elements)n=n.filter(r=>!un(r,i));return{arrayValue:{values:n}}}var Rs=class extends Ms{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function NT(t){return ve(t.integerValue||t.doubleValue)}function m1(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iB(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof lr&&r instanceof lr||i instanceof dr&&r instanceof dr?Ds(i.elements,r.elements,un):i instanceof Rs&&r instanceof Rs?un(i.Pe,r.Pe):i instanceof Ns&&r instanceof Ns}(t.transform,e.transform)}var m_=class{constructor(e,n){this.version=e,this.transformResults=n}},or=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Os=class{};function _1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wl(t.key,or.none()):new hr(t.key,t.data,or.none());{let n=t.data,i=Ut.empty(),r=new Ye(Et.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new xn(t.key,i,new sn(r.toArray()),or.none())}}function rB(t,e,n){t instanceof hr?function(r,s,o){let a=r.value.clone(),c=OT(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xn?function(r,s,o){if(!Bl(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=OT(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(y1(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,i){return t instanceof hr?function(s,o,a,c){if(!Bl(s.precondition,o))return a;let u=s.value.clone(),l=xT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof xn?function(s,o,a,c){if(!Bl(s.precondition,o))return a;let u=xT(s.fieldTransforms,c,o),l=o.data;return l.setAll(y1(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Bl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sB(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=f1(i.transform,r||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(i.field,s))}return n||null}function RT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ds(i,r,(s,o)=>iB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var hr=class extends Os{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},xn=class extends Os{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function y1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function OT(t,e,n){let i=new Map;he(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,nB(o,a,n[r]))}return i}function xT(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,tB(s,o,e))}return i}var Wl=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},__=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var y_=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&rB(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sa(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Sa(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=l1();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=_1(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(n,i)=>RT(n,i))&&Ds(this.baseMutations,e.baseMutations,(n,i)=>RT(n,i))}},v_=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){he(e.mutations.length===i.length);let r=function(){return Y2}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var w_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var E_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,Y;function oB(t){switch(t){default:return O();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function v1(t){if(t===void 0)return Nn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Te.OK:return m.OK;case Te.CANCELLED:return m.CANCELLED;case Te.UNKNOWN:return m.UNKNOWN;case Te.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Te.INTERNAL:return m.INTERNAL;case Te.UNAVAILABLE:return m.UNAVAILABLE;case Te.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Te.NOT_FOUND:return m.NOT_FOUND;case Te.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Te.ABORTED:return m.ABORTED;case Te.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Te.DATA_LOSS:return m.DATA_LOSS;default:return O()}}(Y=Te||(Te={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var PT=null;function aB(){return new TextEncoder}var cB=new nr([4294967295,4294967295],0);function kT(t){let e=aB().encode(t),n=new wT;return n.update(e),new Uint8Array(n.digest())}function FT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nr([n,i],0),new nr([r,s],0)]}var I_=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new rr(`Invalid padding: ${n}`);if(i<0)throw new rr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new rr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=nr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(nr.fromNumber(i)));return r.compare(cB)===1&&(r=new nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=kT(e),[i,r]=FT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=kT(e),[i,r]=FT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},rr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kl=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(B.min(),r,new Ee(ne),On(),K())}},Oa=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,K(),K(),K())}};var ws=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Ql=class{constructor(e,n){this.targetId=e,this.me=n}},Yl=class{constructor(e,n,i=st.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Jl=class{constructor(){this.fe=0,this.ge=LT(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=K(),n=K(),i=K();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:O()}}),new Oa(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=LT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},D_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=VT(),this.Qe=new Ee(ne)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(p_(s))if(i===0){let o=new M(s.path);this.Ue(n,o,$t.newNoDocument(o,B.min()))}else he(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}PT?.et(function(l,d,h,f,g){var _,w,D,Q,z,le;let ke={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ie=d.unchangedNames;return ie&&(ke.bloomFilter={applied:g===0,hashCount:(_=ie?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(Q=(D=(w=ie?.bits)===null||w===void 0?void 0:w.bitmap)===null||D===void 0?void 0:D.length)!==null&&Q!==void 0?Q:0,padding:(le=(z=ie?.bits)===null||z===void 0?void 0:z.padding)!==null&&le!==void 0?le:0,mightContain:He=>{var Ht;return(Ht=f?.mightContain(He))!==null&&Ht!==void 0&&Ht}}),ke}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=hi(i).toUint8Array()}catch(c){if(c instanceof Gl)return Is("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new I_(o,r,s)}catch(c){return Is(c instanceof rr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&p_(a.target)){let c=new M(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,$t.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=K();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Kl(e,n,this.Qe,this.ke,i);return this.ke=On(),this.qe=VT(),this.Qe=new Ee(ne),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ye(ne),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function VT(){return new Ee(M.comparator)}function LT(){return new Ee(M.comparator)}var uB={asc:"ASCENDING",desc:"DESCENDING"},lB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dB={and:"AND",or:"OR"},b_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function T_(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function Zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hB(t,e){return Zl(t,e.toTimestamp())}function cn(t){return he(!!t),B.fromTimestamp(function(n){let i=Rn(n);return new $e(i.seconds,i.nanos)}(t))}function Ry(t,e){return C_(t,e).canonicalString()}function C_(t,e){let n=function(r){return new we(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function E1(t){let e=we.fromString(t);return he(C1(e)),e}function S_(t,e){return Ry(t.databaseId,e.path)}function Hm(t,e){let n=E1(e);if(n.get(1)!==t.databaseId.projectId)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(D1(n))}function I1(t,e){return Ry(t.databaseId,e)}function fB(t){let e=E1(t);return e.length===4?we.emptyPath():D1(e)}function A_(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D1(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BT(t,e,n){return{name:S_(t,e),fields:n.value.mapValue.fields}}function pB(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(he(l===void 0||typeof l=="string"),st.fromBase64String(l||"")):(he(l===void 0||l instanceof Buffer||l instanceof Uint8Array),st.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:v1(u.code);return new T(l,u.message||"")}(o);n=new Yl(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Hm(t,i.document.name),s=cn(i.document.updateTime),o=i.document.createTime?cn(i.document.createTime):B.min(),a=new Ut({mapValue:{fields:i.document.fields}}),c=$t.newFoundDocument(r,s,o,a),u=i.targetIds||[],l=i.removedTargetIds||[];n=new ws(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Hm(t,i.document),s=i.readTime?cn(i.readTime):B.min(),o=$t.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ws([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Hm(t,i.document),s=i.removedTargetIds||[];n=new ws([],s,r,null)}else{if(!("filter"in e))return O();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new E_(r,s),a=i.targetId;n=new Ql(a,o)}}return n}function gB(t,e){let n;if(e instanceof hr)n={update:BT(t,e.key,e.value)};else if(e instanceof Wl)n={delete:S_(t,e.key)};else if(e instanceof xn)n={update:BT(t,e.key,e.data),updateMask:bB(e.fieldMask)};else{if(!(e instanceof __))return O();n={verify:S_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Ns)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw O()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:hB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:O()}(t,e.precondition)),n}function mB(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?cn(r.updateTime):cn(s);return o.isEqual(B.min())&&(o=cn(s)),new m_(o,r.transformResults||[])}(n,e))):[]}function _B(t,e){return{documents:[I1(t,e.path)]}}function yB(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=I1(t,r);let s=function(u){if(u.length!==0)return T1(ln.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:_s(h.field),direction:EB(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=T_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function vB(t){let e=fB(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){he(i===1);let l=n.from[0];l.allDescendants?r=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=b1(d);return h instanceof ln&&n1(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Ss(ys(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_d(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Cs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Cs(f,h)}(n.endAt)),G2(e,r,o,s,a,"F",c,u)}function wB(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=ys(n.unaryFilter.field);return Ae.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ys(n.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ys(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ys(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(ys(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(i=>b1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function EB(t){return uB[t]}function IB(t){return lB[t]}function DB(t){return dB[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ys(t){return Et.fromServerFormat(t.fieldPath)}function T1(t){return t instanceof Ae?function(n){if(n.op==="=="){if(TT(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(bT(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TT(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(bT(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:IB(n.op),value:n.value}}}(t):t instanceof ln?function(n){let i=n.getFilters().map(r=>T1(r));return i.length===1?i[0]:{compositeFilter:{op:DB(n.op),filters:i}}}(t):O()}function bB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function C1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xa=class t{constructor(e,n,i,r,s=B.min(),o=B.min(),a=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var M_=class{constructor(e){this.ut=e}};function TB(t){let e=vB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g_(e,e.limit,"L"):e}var Xl=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ve(e.integerValue));else if("doubleValue"in e){let i=ve(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),Ma(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"&&(i=Rn(i)),n.dt(`${i.seconds||""}`),n.Et(i.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(hi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?XT(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):O()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),M.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Xl.St=new Xl;var N_=class{constructor(){this.on=new R_}addToCollectionParentIndex(e,n){return this.on.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(cr.min())}updateCollectionGroup(e,n,i){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}},R_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ye(we.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ye(we.comparator)).toArray()}};var L8=new Uint8Array(0);var rn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var Pa=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var O_=class{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?v.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var x_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var P_=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Sa(i.mutation,r,sn.empty(),$e.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,K()).next(()=>i))}getLocalViewOfDocuments(e,n,i=K()){let r=ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Da();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,K()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=On(),o=Ca(),a=function(){return Ca()}();return n.forEach((c,u)=>{let l=i.get(u.key);r.has(u.key)&&(l===void 0||l.mutation instanceof xn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Sa(l.mutation,u,l.mutation.getFieldMask(),$e.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new x_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Ca(),r=new Ee((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=i.get(c)||sn.empty();l=a.applyToLocalView(u,l),i.set(c,l);let d=(r.get(a.batchId)||K()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=l1();l.forEach(h=>{if(!s.has(h)){let f=_1(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return v.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):v.resolve(ir()),a=-1,c=s;return o.next(u=>v.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,K())).next(l=>({batchId:a,changes:u1(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(i=>{let r=Da();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Da();return this.indexManager.getCollectionParents(e,s).next(a=>v.forEach(a,c=>{let u=function(d,h){return new As(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,$t.newInvalidDocument(l)))});let a=Da();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Sa(l.mutation,u,sn.empty(),$e.now()),vd(n,u)&&(a=a.insert(c,u))}),a})}};var k_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return v.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:cn(r.createTime)}}(n)),v.resolve()}getNamedQuery(e,n){return v.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:TB(r.bundledQuery),readTime:cn(r.readTime)}}(n)),v.resolve()}};var F_=class{constructor(){this.overlays=new Ee(M.comparator),this.lr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ir();return v.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.lt(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),v.resolve()}getOverlaysForCollection(e,n,i){let r=ir(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return v.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ee((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let l=s.get(u.largestBatchId);l===null&&(l=ir(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ir(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=r)););return v.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new w_(n,i));let s=this.lr.get(n);s===void 0&&(s=K(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}};var ka=class{constructor(){this.hr=new Ye(Ce.Pr),this.Ir=new Ye(Ce.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new Ce(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Ce(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new M(new we([])),i=new Ce(n,e),r=new Ce(n,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new M(new we([])),i=new Ce(n,e),r=new Ce(n,e+1),s=K();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ce(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ce=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return M.comparator(e.key,n.key)||ne(e.gr,n.gr)}static Tr(e,n){return ne(e.gr,n.gr)||M.comparator(e.key,n.key)}};var V_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ye(Ce.Pr)}checkEmpty(e){return v.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new y_(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.yr=this.yr.add(new Ce(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),s=r<0?0:r;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ce(n,0),r=new Ce(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{let a=this.wr(o.gr);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ye(ne);return n.forEach(r=>{let s=new Ce(r,0),o=new Ce(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),v.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;M.isDocumentKey(s)||(s=s.child(""));let o=new Ce(new M(s),0),a=new Ye(ne);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.gr)),!0)},o),v.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){he(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return v.forEach(n.mutations,r=>{let s=new Ce(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new Ce(n,0),r=this.yr.firstAfterOrEqual(i);return v.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,v.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var L_=class{constructor(e){this.Cr=e,this.docs=function(){return new Ee(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return v.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let i=On();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():$t.newInvalidDocument(r))}),v.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=On(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||P2(x2(l),i)<=0||(r.has(l.key)||vd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,i,r){O()}vr(e,n){return v.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new B_(this)}getSize(e){return v.resolve(this.size)}},B_=class extends O_{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),v.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var j_=class{constructor(e){this.persistence=e,this.Fr=new fi(n=>Ay(n),My),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ka,this.targetCount=0,this.Nr=Pa.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),v.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.kn(n),v.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),v.waitFor(s).next(()=>r)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return v.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),v.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),v.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return v.resolve(i)}containsKey(e,n){return v.resolve(this.Or.containsKey(n))}};var U_=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new JT(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new j_(this),this.indexManager=new N_,this.remoteDocumentCache=function(r){return new L_(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new M_(n),this.Kr=new k_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new V_(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){b("MemoryPersistence","Starting transaction:",e);let r=new $_(this.Br.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,n){return v.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},$_=class extends t_{constructor(e){super(),this.currentSequenceNumber=e}},H_=class t{constructor(e){this.persistence=e,this.Gr=new ka,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw O()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),v.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),v.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Hr,i=>{let r=M.fromPath(i);return this.Jr(e,r).next(s=>{s||n.removeEntry(r,B.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return v.or([()=>v.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var G_=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=K(),r=K();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var q_=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return mD()?8:F2(vt())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new z_;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(Ia()<=W.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),v.resolve()):(Ia()<=W.DEBUG&&b("QueryEngine","Query:",ms(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ia()<=W.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):v.resolve())}zi(e,n){if(MT(n))return v.resolve(null);let i=an(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=g_(n,null,"F"),i=an(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=K(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,g_(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,i,r){return MT(n)||r.isEqual(B.min())?v.resolve(null):this.Gi.getDocuments(e,i).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,i,r)?v.resolve(null):(Ia()<=W.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ms(n)),this.Xi(e,o,n,O2(r,-1)).next(a=>a))})}Yi(e,n){let i=new Ye(a1(e));return n.forEach((r,s)=>{vd(e,s)&&(i=i.add(s))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,n,i){return Ia()<=W.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",ms(n)),this.Gi.getDocumentsMatchingQuery(e,n,cr.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var W_=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Ee(ne),this.ns=new fi(s=>Ay(s),My),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P_(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function CB(t,e,n,i){return new W_(t,e,n,i)}function S1(t,e){return p(this,null,function*(){let n=V(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=K();for(let u of r){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(i,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function SB(t,e){let n=V(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=v.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(_=>{let w=u.docVersions.get(g);he(w!==null),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=K();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function A1(t){let e=V(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function AB(t,e){let n=V(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=r.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(st.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,i)),r=r.insert(d,f),function(_,w,D){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=On(),u=K();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(MB(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!i.isEqual(B.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=r,s))}function MB(t,e,n){let i=K(),r=K();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=On();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:r}})}function NB(t,e){let n=V(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function RB(t,e){let n=V(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(s=>s?(r=s,v.resolve(r)):n.qr.allocateTargetId(i).next(o=>(r=new xa(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function K_(t,e,n){return p(this,null,function*(){let i=V(t),r=i.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ja(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function jT(t,e,n){let i=V(t),r=B.min(),s=K();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=V(c),h=d.ns.get(l);return h!==void 0?v.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(i,o,an(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.es.getDocumentsMatchingQuery(o,e,n?r:B.min(),n?s:K())).next(a=>(OB(i,W2(e),a),{documents:a,ls:s})))}function OB(t,e,n){let i=t.rs.get(e)||B.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.rs.set(e,i)}var ed=class{constructor(){this.activeTargetIds=X2()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Q_=class{constructor(){this.eo=new ed,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ed,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Y_=class{ro(e){}shutdown(){}};var td=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vl=null;function Gm(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}var xB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var J_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Qe="WebChannelConnection",Z_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+n.host,this.wo=`projects/${r}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get bo(){return!1}Do(n,i,r,s,o){let a=Gm(),c=this.Co(n,i.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,r).then(l=>(b("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Is("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",r),l})}Mo(n,i,r,s,o,a){return this.Do(n,i,r,s,o)}vo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}Co(n,i){let r=xB[n];return`${this.yo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,i,r){let s=Gm();return new Promise((o,a)=>{let c=new vT;c.setWithCredentials(!0),c.listenOnce(mT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kl.NO_ERROR:let l=c.getResponseJson();b(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case kl.TIMEOUT:b(Qe,`RPC '${e}' ${s} timed out`),a(new T(m.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:let d=c.getStatus();if(b(Qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(w){let D=w.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(D)>=0?D:m.UNKNOWN}(f.status);a(new T(g,f.message))}else a(new T(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(m.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{b(Qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);b(Qe,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}xo(e,n,i){let r=Gm(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pT(),a=gT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new yT({})),this.vo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let l=s.join("");b(Qe,`Creating RPC '${e}' stream ${r}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new J_({co:w=>{f?b(Qe,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(h||(b(Qe,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),b(Qe,`RPC '${e}' stream ${r} sending:`,w),d.send(w))},lo:()=>d.close()}),_=(w,D,Q)=>{w.listen(D,z=>{try{Q(z)}catch(le){setTimeout(()=>{throw le},0)}})};return _(d,Ea.EventType.OPEN,()=>{f||(b(Qe,`RPC '${e}' stream ${r} transport opened.`),g.Vo())}),_(d,Ea.EventType.CLOSE,()=>{f||(f=!0,b(Qe,`RPC '${e}' stream ${r} transport closed`),g.fo())}),_(d,Ea.EventType.ERROR,w=>{f||(f=!0,Is(Qe,`RPC '${e}' stream ${r} transport errored:`,w),g.fo(new T(m.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ea.EventType.MESSAGE,w=>{var D;if(!f){let Q=w.data[0];he(!!Q);let z=Q,le=z.error||((D=z[0])===null||D===void 0?void 0:D.error);if(le){b(Qe,`RPC '${e}' stream ${r} received error:`,le);let ke=le.status,ie=function(gi){let pr=Te[gi];if(pr!==void 0)return v1(pr)}(ke),He=le.message;ie===void 0&&(ie=m.INTERNAL,He="Unknown error status: "+ke+" with message "+le.message),f=!0,g.fo(new T(ie,He)),d.close()}else b(Qe,`RPC '${e}' stream ${r} received:`,Q),g.po(Q)}}),_(a,_T.STAT_EVENT,w=>{w.stat===$m.PROXY?b(Qe,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===$m.NOPROXY&&b(Qe,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}};function zm(){return typeof document<"u"?document:null}function wd(t){return new b_(t,!0)}var nd=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=i,this.No=r,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),r=Math.max(0,n-i);r>0&&b("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var id=class{constructor(e,n,i,r,s,o,a,c){this.si=e,this.Wo=i,this.Go=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new nd(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return p(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return p(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return p(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.zo===n&&this.a_(i,r)},i=>{e(()=>{let r=new T(m.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(r)})})}a_(e,n){let i=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(r=>{i(()=>this.u_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Xo(){this.state=5,this.Jo.Ko(()=>p(this,null,function*(){this.state=0,this.start()}))}u_(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},X_=class extends id{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();let n=pB(this.serializer,e),i=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?cn(o.readTime):B.min()}(e);return this.listener.l_(n,i)}h_(e){let n={};n.database=A_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=p_(c)?{documents:_B(s,c)}:{query:yB(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=w1(s,o.resumeToken);let u=T_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=Zl(s,o.snapshotVersion.toTimestamp());let u=T_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=wB(this.serializer,e);i&&(n.labels=i),this.r_(n)}P_(e){let n={};n.database=A_(this.serializer),n.removeTarget=e,this.r_(n)}},ey=class extends id{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=mB(e.writeResults,e.commitTime),i=cn(e.commitTime);return this.listener.d_(i,n)}return he(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=A_(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>gB(this.serializer,i))};this.r_(n)}};var ty=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,i,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,C_(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(m.UNKNOWN,s.toString())})}Mo(e,n,i,r,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,C_(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(m.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var ny=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Nn(n),this.y_=!1):b("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var iy=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{i.enqueueAndForget(()=>p(this,null,function*(){fr(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=V(c);u.M_.add(4),yield Ua(u),u.N_.set("Unknown"),u.M_.delete(4),yield Ed(u)})}(this))}))}),this.N_=new ny(i,r)}};function Ed(t){return p(this,null,function*(){if(fr(t))for(let e of t.x_)yield e(!0)})}function Ua(t){return p(this,null,function*(){for(let e of t.x_)yield e(!1)})}function M1(t,e){let n=V(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ky(n)?Py(n):Ls(n).Zo()&&xy(n,e))}function Oy(t,e){let n=V(t),i=Ls(n);n.F_.delete(e),i.Zo()&&N1(n,e),n.F_.size===0&&(i.Zo()?i.t_():fr(n)&&n.N_.set("Unknown"))}function xy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ls(t).h_(e)}function N1(t,e){t.L_.xe(e),Ls(t).P_(e)}function Py(t){t.L_=new D_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ls(t).start(),t.N_.w_()}function ky(t){return fr(t)&&!Ls(t).Yo()&&t.F_.size>0}function fr(t){return V(t).M_.size===0}function R1(t){t.L_=void 0}function PB(t){return p(this,null,function*(){t.N_.set("Online")})}function kB(t){return p(this,null,function*(){t.F_.forEach((e,n)=>{xy(t,e)})})}function FB(t,e){return p(this,null,function*(){R1(t),ky(t)?(t.N_.D_(e),Py(t)):t.N_.set("Unknown")})}function VB(t,e,n){return p(this,null,function*(){if(t.N_.set("Online"),e instanceof Yl&&e.state===2&&e.cause)try{yield function(r,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield rd(t,i)}else if(e instanceof ws?t.L_.Ke(e):e instanceof Ql?t.L_.He(e):t.L_.We(e),!n.isEqual(B.min()))try{let i=yield A1(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.F_.get(u);l&&s.F_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.F_.get(c);if(!l)return;s.F_.set(c,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),N1(s,c);let d=new xa(l.target,c,u,l.sequenceNumber);xy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){b("RemoteStore","Failed to raise snapshot:",i),yield rd(t,i)}})}function rd(t,e,n){return p(this,null,function*(){if(!ja(e))throw e;t.M_.add(1),yield Ua(t),t.N_.set("Offline"),n||(n=()=>A1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ed(t)}))})}function O1(t,e){return e().catch(n=>rd(t,n,e))}function Id(t){return p(this,null,function*(){let e=V(t),n=pi(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;LB(e);)try{let r=yield NB(e.localStore,i);if(r===null){e.v_.length===0&&n.t_();break}i=r.batchId,BB(e,r)}catch(r){yield rd(e,r)}x1(e)&&P1(e)})}function LB(t){return fr(t)&&t.v_.length<10}function BB(t,e){t.v_.push(e);let n=pi(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function x1(t){return fr(t)&&!pi(t).Yo()&&t.v_.length>0}function P1(t){pi(t).start()}function jB(t){return p(this,null,function*(){pi(t).R_()})}function UB(t){return p(this,null,function*(){let e=pi(t);for(let n of t.v_)e.E_(n.mutations)})}function $B(t,e,n){return p(this,null,function*(){let i=t.v_.shift(),r=v_.from(i,e,n);yield O1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Id(t)})}function HB(t,e){return p(this,null,function*(){e&&pi(t).T_&&(yield function(i,r){return p(this,null,function*(){if(function(o){return oB(o)&&o!==m.ABORTED}(r.code)){let s=i.v_.shift();pi(i).e_(),yield O1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Id(i)}})}(t,e)),x1(t)&&P1(t)})}function UT(t,e){return p(this,null,function*(){let n=V(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let i=fr(n);n.M_.add(3),yield Ua(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ed(n)})}function GB(t,e){return p(this,null,function*(){let n=V(t);e?(n.M_.delete(2),yield Ed(n)):e||(n.M_.add(2),yield Ua(n),n.N_.set("Unknown"))})}function Ls(t){return t.B_||(t.B_=function(n,i,r){let s=V(n);return s.m_(),new X_(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:PB.bind(null,t),Io:kB.bind(null,t),Eo:FB.bind(null,t),l_:VB.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.B_.e_(),ky(t)?Py(t):t.N_.set("Unknown")):(yield t.B_.stop(),R1(t))}))),t.B_}function pi(t){return t.k_||(t.k_=function(n,i,r){let s=V(n);return s.m_(),new ey(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:jB.bind(null,t),Eo:HB.bind(null,t),A_:UB.bind(null,t),d_:$B.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.k_.e_(),yield Id(t)):(yield t.k_.stop(),t.v_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var ry=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fy(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),ja(t))return new T(m.UNAVAILABLE,`${e}: ${t}`);throw t}var sd=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||M.comparator(n.key,i.key):(n,i)=>M.comparator(n.key,i.key),this.keyedMap=Da(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var od=class{constructor(){this.q_=new Ee(M.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):O():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},xs=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,sd.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var sy=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},oy=class{constructor(){this.queries=new fi(e=>o1(e),yd),this.onlineState="Unknown",this.z_=new Set}};function zB(t,e){return p(this,null,function*(){let n=V(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new sy,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=Fy(o,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Vy(n)})}function qB(t,e){return p(this,null,function*(){let n=V(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function WB(t,e){let n=V(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&Vy(n)}function KB(t,e,n){let i=V(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function Vy(t){t.z_.forEach(e=>{e.next()})}var ay,$T;($T=ay||(ay={})).J_="default",$T.Cache="cache";var cy=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new xs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ay.Cache}};var ad=class{constructor(e){this.key=e}},cd=class{constructor(e){this.key=e}},uy=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=K(),this.mutatedKeys=K(),this.Ia=a1(e),this.Ta=new sd(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new od,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((l,d)=>{let h=r.get(l),f=vd(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),w=!1;h&&f?h.data.isEqual(f.data)?g!==_&&(i.track({type:3,doc:f}),w=!0):this.Ra(h,f)||(i.track({type:2,doc:f}),w=!0,(c&&this.Ia(f,c)>0||u&&this.Ia(f,u)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),w=!0):h&&!f&&(i.track({type:1,doc:h}),w=!0,(c||u)&&(a=!0)),w&&(f?(o=o.add(f),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),i.track({type:1,doc:l})}return{Ta:o,Aa:i,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((l,d)=>function(f,g){let _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return _(f)-_(g)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new xs(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new od,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=K(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new cd(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new ad(i))}),n}pa(e){this.la=e.ls,this.Pa=K();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return xs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},ly=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},dy=class{constructor(e){this.key=e,this.wa=!1}},hy=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new fi(a=>o1(a),yd),this.Da=new Map,this.Ca=new Set,this.va=new Ee(M.comparator),this.Fa=new Map,this.Ma=new ka,this.xa={},this.Oa=new Map,this.Na=Pa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function QB(t,e,n=!0){return p(this,null,function*(){let i=j1(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield k1(i,e,n,!0),r})}function YB(t,e){return p(this,null,function*(){let n=j1(t);yield k1(n,e,!0,!1)})}function k1(t,e,n,i){return p(this,null,function*(){let r=yield RB(t.localStore,an(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield JB(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&M1(t.remoteStore,r),a})}function JB(t,e,n,i,r){return p(this,null,function*(){t.Ba=(d,h,f)=>function(_,w,D,Q){return p(this,null,function*(){let z=w.view.da(D);z.Zi&&(z=yield jT(_.localStore,w.query,!1).then(({documents:He})=>w.view.da(He,z)));let le=Q&&Q.targetChanges.get(w.targetId),ke=Q&&Q.targetMismatches.get(w.targetId)!=null,ie=w.view.applyChanges(z,_.isPrimaryClient,le,ke);return GT(_,w.targetId,ie.fa),ie.snapshot})}(t,d,h,f);let s=yield jT(t.localStore,e,!0),o=new uy(e,s.ls),a=o.da(s.documents),c=Oa.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);GT(t,n,u.fa);let l=new ly(e,n,o);return t.ba.set(e,l),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function ZB(t,e,n){return p(this,null,function*(){let i=V(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!yd(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield K_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Oy(i.remoteStore,r.targetId),fy(i,r.targetId)}).catch(Ba))):(fy(i,r.targetId),yield K_(i.localStore,r.targetId,!0))})}function XB(t,e){return p(this,null,function*(){let n=V(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Oy(n.remoteStore,i.targetId))})}function ej(t,e,n){return p(this,null,function*(){let i=aj(t);try{let r=yield function(o,a){let c=V(o),u=$e.now(),l=a.reduce((f,g)=>f.add(g.key),K()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=On(),_=K();return c.ss.getEntries(f,l).next(w=>{g=w,g.forEach((D,Q)=>{Q.isValidDocument()||(_=_.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(w=>{d=w;let D=[];for(let Q of a){let z=sB(Q,d.get(Q.key).overlayedDocument);z!=null&&D.push(new xn(Q.key,z,e1(z.value.mapValue),or.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,D,a)}).next(w=>{h=w;let D=w.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(f,w.batchId,D)})}).then(()=>({batchId:h.batchId,changes:u1(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new Ee(ne)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield $a(i,r.changes),yield Id(i.remoteStore)}catch(r){let s=Fy(r,"Failed to persist write");n.reject(s)}})}function F1(t,e){return p(this,null,function*(){let n=V(t);try{let i=yield AB(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(he(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?he(o.wa):r.removedDocuments.size>0&&(he(o.wa),o.wa=!1))}),yield $a(n,i,e)}catch(i){yield Ba(i)}})}function HT(t,e,n){let i=V(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=V(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&Vy(c)}(i.eventManager,e),r.length&&i.Sa.l_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function tj(t,e,n){return p(this,null,function*(){let i=V(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new Ee(M.comparator);o=o.insert(s,$t.newNoDocument(s,B.min()));let a=K().add(s),c=new Kl(B.min(),new Map,new Ee(ne),o,a);yield F1(i,c),i.va=i.va.remove(s),i.Fa.delete(e),Ly(i)}else yield K_(i.localStore,e,!1).then(()=>fy(i,e,n)).catch(Ba)})}function nj(t,e){return p(this,null,function*(){let n=V(t),i=e.batch.batchId;try{let r=yield SB(n.localStore,e);L1(n,i,null),V1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield $a(n,r)}catch(r){yield Ba(r)}})}function ij(t,e,n){return p(this,null,function*(){let i=V(t);try{let r=yield function(o,a){let c=V(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(he(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(i.localStore,e);L1(i,e,n),V1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield $a(i,r)}catch(r){yield Ba(r)}})}function V1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function L1(t,e,n){let i=V(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(i=>{t.Ma.containsKey(i)||B1(t,i)})}function B1(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Oy(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Ly(t))}function GT(t,e,n){for(let i of n)i instanceof ad?(t.Ma.addReference(i.key,e),rj(t,i)):i instanceof cd?(b("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||B1(t,i.key)):O()}function rj(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(b("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Ly(t))}function Ly(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new M(we.fromString(e)),i=t.Na.next();t.Fa.set(i,new dy(n)),t.va=t.va.insert(n,i),M1(t.remoteStore,new xa(an(Ny(n.path)),i,"TargetPurposeLimboResolution",JT.oe))}}function $a(t,e,n){return p(this,null,function*(){let i=V(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);let l=G_.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),i.Sa.l_(r),yield function(c,u){return p(this,null,function*(){let l=V(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(u,h=>v.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ja(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,_)}}})}(i.localStore,s))})}function sj(t,e){return p(this,null,function*(){let n=V(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let i=yield S1(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new T(m.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield $a(n,i._s)}})}function oj(t,e){let n=V(t),i=n.Fa.get(e);if(i&&i.wa)return K().add(i.key);{let r=K(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function j1(t){let e=V(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tj.bind(null,e),e.Sa.l_=WB.bind(null,e.eventManager),e.Sa.ka=KB.bind(null,e.eventManager),e}function aj(t){let e=V(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ij.bind(null,e),e}var ud=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return CB(this.persistence,new q_,e.initialUser,this.serializer)}createPersistence(e){return new U_(H_.jr,this.serializer)}createSharedClientState(e){return new Q_}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var py=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sj.bind(null,this.syncEngine),yield GB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new oy}()}createDatastore(e){let n=wd(e.databaseInfo.databaseId),i=function(s){return new Z_(s)}(e.databaseInfo);return function(s,o,a,c){return new ty(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new iy(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return td.D()?new td:new Y_}())}createSyncEngine(e,n){return function(r,s,o,a,c,u,l){let d=new hy(r,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(i){return p(this,null,function*(){let r=V(i);b("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Ua(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var gy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var my=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Pe.UNAUTHENTICATED,this.clientId=Ul.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>p(this,null,function*(){b("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=Fy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function qm(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>p(this,null,function*(){i.isEqual(r)||(yield S1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function zT(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield uj(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>UT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>UT(e.remoteStore,r)),t._onlineComponents=e})}function cj(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function uj(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!cj(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),yield qm(t,new ud)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield qm(t,new ud);return t._offlineComponents})}function U1(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield zT(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield zT(t,new py))),t._onlineComponents})}function lj(t){return U1(t).then(e=>e.syncEngine)}function qT(t){return p(this,null,function*(){let e=yield U1(t),n=e.eventManager;return n.onListen=QB.bind(null,e.syncEngine),n.onUnlisten=ZB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XB.bind(null,e.syncEngine),n})}function $1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var WT=new Map;function H1(t,e,n){if(!n)throw new T(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dj(t,e,n,i){if(e===!0&&i===!0)throw new T(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!M.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QT(t){if(M.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function By(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function Aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=By(t);throw new T(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ld=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new T(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ps=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Wm;switch(i.type){case"firstParty":return new Jm(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new T(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=WT.get(n);i&&(b("ComponentProvider","Removing Datastore"),WT.delete(n),i.terminate())}(this),Promise.resolve()}};function G1(t,e,n,i={}){var r;let s=(t=Aa(t,Ps))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Pe.MOCK_USER;else{a=hD(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new T(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pe(u)}t._authCredentials=new Km(new jl(a,c))}}var dd=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Mt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},di=class t extends dd{constructor(e,n,i){super(e,n,Ny(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function z1(t,e,...n){if(t=Ct(t),H1("collection","path",e),t instanceof Ps){let i=we.fromString(e,...n);return QT(i),new di(t,null,i)}{if(!(t instanceof Mt||t instanceof di))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(we.fromString(e,...n));return QT(i),new di(t.firestore,null,i)}}function q1(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Ul.newId()),H1("doc","path",e),t instanceof Ps){let i=we.fromString(e,...n);return KT(i),new Mt(t,null,new M(i))}{if(!(t instanceof Mt||t instanceof di))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(we.fromString(e,...n));return KT(i),new Mt(t.firestore,t instanceof di?t.converter:null,new M(i))}}var _y=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new nd(this,"async_queue_retry"),this.hu=()=>{let n=zm();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Mn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return p(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!ja(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Nn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=ry.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&O()}verifyOperationInProgress(){}du(){return p(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function YT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ks=class extends Ps{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new _y}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q1(this),this._firestoreClient.terminate()}};function W1(t,e){let n=typeof t=="object"?t:Ho(),i=typeof t=="string"?t:e||"(default)",r=Pg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=lD("firestore");s&&G1(r,...s)}return r}function K1(t){return t._firestoreClient||Q1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Q1(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,l){return new n_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$1(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new my(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Fa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new T(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Va=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hd=class{constructor(e){this._methodName=e}};var La=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}};var hj=/^__.*__$/,yy=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new hr(e,this.data,n,this.fieldTransforms)}};function Y1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var vy=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return fd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Y1(this.fu)&&hj.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},wy=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wd(e)}Fu(e,n,i,r=!1){return new vy({fu:e,methodName:n,vu:i,path:Et.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fj(t){let e=t._freezeSettings(),n=wd(t._databaseId);return new wy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pj(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);eC("Data must be an object, but it was:",o,i);let a=Z1(i,o),c,u;if(s.merge)c=new sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=gj(e,d,n);if(!o.contains(h))throw new T(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_j(l,h)||l.push(h)}c=new sn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new yy(new Ut(a),c,u)}function J1(t,e){if(X1(t=Ct(t)))return eC("Unsupported field value:",e,t),Z1(t,e);if(t instanceof hd)return function(i,r){if(!Y1(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=J1(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eB(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=$e.fromDate(i);return{timestampValue:Zl(r.serializer,s)}}if(i instanceof $e){let s=new $e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zl(r.serializer,s)}}if(i instanceof La)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fa)return{bytesValue:w1(r.serializer,i._byteString)};if(i instanceof Mt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ry(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${By(i)}`)}(t,e)}function Z1(t,e){let n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(i,r)=>{let s=J1(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function X1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof La||t instanceof Fa||t instanceof Mt||t instanceof hd)}function eC(t,e,n){if(!X1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=By(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function gj(t,e,n){if((e=Ct(e))instanceof Va)return e._internalPath;if(typeof e=="string")return tC(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}var mj=new RegExp("[~\\*/\\[\\]]");function tC(t,e,n){if(e.search(mj)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Va(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new T(m.INVALID_ARGUMENT,a+t+c)}function _j(t,e){return t.some(n=>n.isEqual(e))}var pd=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ey(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(nC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ey=class extends pd{data(){return super.data()}};function nC(t,e){return typeof e=="string"?tC(t,e):e instanceof Va?e._internalPath:e._delegate._internalPath}function yj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iy=class{convertValue(e,n="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Vs(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new La(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Cy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Na(e));default:return null}}convertTimestamp(e){let n=Rn(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=we.fromString(e);he(C1(i));let r=new zl(i.get(1),i.get(3)),s=new M(i.popFirst(5));return r.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function vj(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var sr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gd=class extends pd{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(nC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Es=class extends gd{data(e={}){return super.data(e)}},Dy=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new sr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Es(this._firestore,this._userDataWriter,i.key,i,new sr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Es(r._firestore,r._userDataWriter,a.doc.key,a.doc,new sr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Es(r._firestore,r._userDataWriter,a.doc.key,a.doc,new sr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:wj(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function wj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}var md=class extends Iy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}};function iC(t,e){let n=Aa(t.firestore,ks),i=q1(t),r=vj(t.converter,e);return Ej(n,[pj(fj(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function jy(t,...e){var n,i,r;t=Ct(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YT(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YT(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,u,l;if(t instanceof Mt)u=Aa(t.firestore,ks),l=Ny(t._key.path),c={next:d=>{e[o]&&e[o](Ij(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Aa(t,dd);u=Aa(d.firestore,ks),l=d._query;let h=new md(u);c={next:f=>{e[o]&&e[o](new Dy(u,h,d,f))},error:e[o+1],complete:e[o+2]},yj(t._query)}return function(h,f,g,_){let w=new gy(_),D=new cy(f,w,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return zB(yield qT(h),D)})),()=>{w.$a(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return qB(yield qT(h),D)}))}}(K1(u),l,a,c)}function Ej(t,e){return function(i,r){let s=new Mn;return i.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return ej(yield lj(i),r,s)})),s.promise}(K1(t),e)}function Ij(t,e,n){let i=n.docs.get(e._key),r=new md(t);return new gd(t,r,e._key,i,new sr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Fs=r})(as),oi(new St("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new ks(new Qm(i.getProvider("auth-internal")),new Xm(i.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(u.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Re(ET,"4.6.1",e),Re(ET,"4.6.1","esm2017")})();var Dd=function(){return Dd=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dd.apply(this,arguments)};var Tj={includeMetadataChanges:!1};function rC(t,e){return e===void 0&&(e=Tj),new x(function(n){var i=jy(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function sC(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Dd(Dd({},i),(n={},n[e.idField]=t.id,n))}function oC(t){return rC(t,{includeMetadataChanges:!0}).pipe(L(function(e){return e.docs}))}function aC(t,e){return e===void 0&&(e={}),oC(t).pipe(L(function(n){return n.map(function(i){return sC(i,e)})}))}var Pn=class{constructor(e){return e}},cC="firestore",Uy=class{constructor(){return zo(cC)}};var $y=new P("angularfire2.firestore-instances");function Cj(t,e){let n=Vg(cC,t,e);return n&&new Pn(n)}function Sj(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Pn(i)}}var Aj={provide:Uy,deps:[[new Vt,$y]]},Mj={provide:Pn,useFactory:Cj,deps:[[new Vt,$y],Qi]},Nj=(()=>{class t{constructor(){Re("angularfire",us.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=it({type:t});static \u0275inj=nt({providers:[Mj,Aj]})}return t})();function uC(t,...e){return{ngModule:Nj,providers:[{provide:$y,useFactory:Sj(t),multi:!0,deps:[ee,lt,qo,Wo,[new Vt,ol],[new Vt,Go],...e]}]}}var bd=ai(aC,!0);var lC=ai(iC,!0);var Bs=ai(z1,!0);var dC=ai(W1,!0);var hC={firebaseConfig:{apiKey:"AIzaSyDFx9aoORYxRHImA6_6WnBTE6ceBFZ7ymg",authDomain:"gestao-notas.firebaseapp.com",projectId:"gestao-notas",storageBucket:"gestao-notas.appspot.com",messagingSenderId:"248577518793",appId:"1:248577518793:web:9296daa05c1693fc747118",measurementId:"G-2TTTRQ9QFT"}};var Td=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=it({type:e}),e.\u0275inj=nt({imports:[Ui,xD(()=>PD(hC.firebaseConfig)),uC(()=>dC())]});let t=e;return t})();var Rj=["modalContent"];function Oj(t,e){if(t&1){let n=lo();ue(0,"tr")(1,"td"),Se(2),de(),ue(3,"td",7)(4,"button",8),ht("click",function(){Kn(n);let r=Li();return Qn(r.openModal())}),Se(5,"Atualizar Notas"),de(),ue(6,"button",9),ht("click",function(){Kn(n);let r=Li();return Qn(r.openModal())}),Se(7,"Deletar"),de()()()}if(t&2){let n=e.$implicit;Yn(2),au(n.nome)}}function xj(t,e){if(t&1){let n=lo();ue(0,"div",10)(1,"h4",11),Se(2,"Novo Aluno"),de(),ue(3,"button",12),ht("click",function(){let r=Kn(n).$implicit;return Qn(r.dismiss("Cross click"))}),ue(4,"span",13),Se(5,"\xD7"),de()()(),ue(6,"div",14)(7,"form")(8,"div",15)(9,"label",16),Se(10,"Nome do Aluno:"),de(),ue(11,"input",17),qf("ngModelChange",function(r){Kn(n);let s=Li();return gE(s.nome,r)||(s.nome=r),Qn(r)}),de()()()(),ue(12,"div",18)(13,"button",19),ht("click",function(){Kn(n);let r=Li();return Qn(r.addAluno(r.nome))}),Se(14,"Salvar"),de()()}if(t&2){let n=Li();Yn(11),zf("ngModel",n.nome)}}function Pj(t,e){t&1&&(ue(0,"div",20)(1,"span",21),Se(2,"Loading..."),de()())}var fC=(()=>{let e=class e{constructor(i){this.modalService=i,this.firestore=y(Pn),this.carregando=!1,this.alunosCollection=Bs(this.firestore,"alunos"),this.item$=bd(Bs(this.firestore,"alunos"))}openModal(){this.modalService.open(this.modalContent,{ariaLabelledBy:"modal-basic-title"})}addAluno(i){i&&lC(this.alunosCollection,{nome:i}).then(r=>{this.modalService.dismissAll(),this.carregando=!1})}};e.\u0275fac=function(r){return new(r||e)(X(sD))},e.\u0275cmp=_n({type:e,selectors:[["app-add-student"]],viewQuery:function(r,s){if(r&1&&ou(Rj,5),r&2){let o;ho(o=fo())&&(s.modalContent=o.first)}},standalone:!0,features:[bn],decls:19,vars:4,consts:[["modalContent",""],[1,"container","mt-3"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary",3,"click"],[1,"table","table-bordered","mt-3"],[4,"ngFor","ngForOf"],["class","spinner-grow","role","status",4,"ngIf"],[2,"width","20%"],[1,"btn","btn-secondary","btn-sm",2,"margin-right","5px",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","nome"],["type","text","id","nome","name","nome",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["role","status",1,"spinner-grow"],[1,"sr-only"]],template:function(r,s){if(r&1){let o=lo();ue(0,"div",1)(1,"h2"),Se(2,"Lista de Alunos"),de(),ue(3,"div",2)(4,"button",3),ht("click",function(){return Kn(o),Qn(s.openModal())}),Se(5,"Adicionar Aluno"),de()(),ue(6,"table",4)(7,"thead")(8,"tr")(9,"th"),Se(10,"Nome"),de(),ue(11,"th"),Se(12,"A\xE7\xE3o"),de()()(),ue(13,"tbody"),co(14,Oj,8,1,"tr",5),Wf(15,"async"),de()()(),co(16,xj,15,1,"ng-template",null,0,Qf)(18,Pj,3,0,"div",6)}r&2&&(Yn(14),Vi("ngForOf",Kf(15,2,s.item$)),Yn(4),Vi("ngIf",s.carregando))},dependencies:[ZI,JI,Bu,GI,zI,og,sg,Ui,PE,kE,FE,Td,rD],styles:[".container[_ngcontent-%COMP%]{padding:20px}.table[_ngcontent-%COMP%]{margin-top:20px}"]});let t=e;return t})();var pC=[{path:"alunos",component:fC}];var gC={providers:[SI(pC)]};var mC=(()=>{let e=class e{constructor(){this.title="gestao-notas",this.firestore=y(Pn),this.isMenuCollapsed=!0,this.alunosCollection=Bs(this.firestore,"alunos"),this.item$=bd(Bs(this.firestore,"alunos"))}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_n({type:e,selectors:[["app-root"]],standalone:!0,features:[bn],decls:19,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand",2,"margin-left","15px"],["type","button","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item","active"],["routerLink","/home",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","alunos",1,"nav-link"],["routerLink","/contact",1,"nav-link"],[1,"content-wrapper"]],template:function(r,s){r&1&&(ue(0,"nav",0)(1,"a",1),Se(2,"Gest\xE3o de Notas"),de(),ue(3,"button",2),ht("click",function(){return s.isMenuCollapsed=!s.isMenuCollapsed}),Zn(4,"span",3),de(),ue(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),Se(9,"Home "),Zn(10,"span",8),de()(),ue(11,"li",9)(12,"a",10),Se(13,"Alunos"),de()(),ue(14,"li",9)(15,"a",11),Se(16,"Notas"),de()()()()(),ue(17,"div",12),Zn(18,"router-outlet"),de()),r&2&&(Yn(5),Vi("ngbCollapse",s.isMenuCollapsed))},dependencies:[Ui,Wp,Td,nD],styles:[".navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ccc}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff}[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1}footer[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;text-align:center;padding:10px 0}"]});let t=e;return t})();zE(mC,gC).catch(t=>console.error(t));
